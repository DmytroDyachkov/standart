function tab2s(){$(".js-tab__open").click(function(){if($(this).hasClass("active"));else{$(".js-tab__open").removeClass("active"),$(this).addClass("active"),$(".js-tab__content").slideUp(300);var e=$(this).attr("data-monolit-tabs");$(".js-tab__content").each(function(){$(this).attr("data-monolit-tabs")==e&&$(this).slideDown(300)})}})}var myMap,boxVisible;function mapsInit(){var e=document.querySelector(".js-map-frame");myMap=new ymaps.Map(e,{center:[55.75399399999374,37.62209300000001],controls:["zoomControl"],zoom:10},{yandexMapDisablePoiInteractivity:!0,suppressMapOpenBlock:!0});var s=document.getElementById("js-map-templates");boxVisible=document.querySelector(".js-map-object");var i=20,n=20,t=JSON.parse(window.deliveryZone),a=new ymaps.Polygon([t],{},{fillColor:"rgba(42, 45, 50, 0.1)",strokeWidth:3,strokeColor:"#007BFB"});myMap.geoObjects.add(a),mapdata.forEach(function(e){if(document.querySelector(".js-mapdata")){if(document.querySelector(".js-mapdata-green").classList.contains("active")&&1==e.isViolet)return;if(document.querySelector(".js-mapdata-purpur").classList.contains("active")&&0==e.isViolet)return;document.querySelector(".js-mapdata-all").classList.contains("active")}var t=new ymaps.Placemark([e.lat,e.lng],{balloonContent:null,iconCaption:null,blockId:e.id},{iconLayout:"default#image",iconImageHref:e.isViolet?mapmarkerActive:mapmarker,iconImageSize:[i,n],iconImageOffset:[-10,-n],hideIconOnBalloonOpen:!1});t.events.add("click",function(e){myMap.geoObjects.each(function(e){e.options.set({iconImageSize:[i,n],iconImageOffset:[-10,-n]})}),boxVisible.innerHTML="";var t=e.get("target").properties.get("blockId");e.get("target").options.set({iconImageSize:[25,25],iconImageOffset:[-12.5,-25]});var a=s.content.querySelector(".js-maploc-"+t).cloneNode(!0);boxVisible.append(a),setTimeout(function(){a.classList.add("is-active")},0)}),myMap.geoObjects.add(t)}),window.innerWidth,myMap.behaviors.disable(["rightMouseButtonMagnifier","scrollZoom"])}function loadYamaps(){if(document.querySelector(".js-map-frame")){var e=document.createElement("script");window.mapsInit=mapsInit,e.className="js-reload-remove",e.src="https://api-maps.yandex.ru/2.1/?load=package.map&lang=ru-RU&onload=mapsInit",document.getElementsByTagName("body")[0].appendChild(e)}}function reloadYamaps(){console.log(1),document.querySelector(".js-active-map_items").classList.contains("active")?console.log(2):(myMap.destroy(),document.querySelector(".js-reload-remove").remove(),loadYamaps(),console.log(3))}$(function(){var e;if($(".js-modal_btn_close,.js-modal_close,.js-close_btn,.js-btnCloseModal").click(function(){$(".js-modal_window").fadeOut(),$(".js-menu-item").removeClass("active"),$("body,head,html").css("overflow-x","hidden"),$("body,head,html").css("overflow-y","auto"),$(".menu-item-close").removeClass("active"),$(".menu-item-close").removeClass("menu-item-close--white")}),$(".js-open_modal").click(function(){var e=$(this).attr("data-monolit-modal");$(".js-modal_window").each(function(){$(this).attr("data-monolit-modal")==e&&($("body,head,html").css("overflow","hidden"),$(this).fadeIn(),$(".menu-item-close").addClass("active"),$(".menu-item-close").addClass("menu-item-close--white"))})}),$(".js-close_menu").click(function(){$("[data-click-state='0']").attr("data-click-state","1"),$(this).removeClass("active"),$(".js-menu-item").removeClass("menu-active"),$(".js-modal_window").fadeOut(),$(".menu-item-close").removeClass("active"),$("body,head,html").css("overflow-x","hidden"),$("body,head,html").css("overflow-y","auto"),$(".menu-item-close").removeClass("menu-item-close--white")}),$(".js-open_menu").click(function(){if(1==$(this).attr("data-click-state")){$(this).attr("data-click-state",0),$(this).addClass("active");var e=$(this).attr("data-monolit-menu");$(".js-menu-item").each(function(){$(this).attr("data-monolit-menu")==e&&($(this).addClass("menu-active"),$(".menu-item-close").addClass("active"),$("body,head,html").css("overflow","hidden"),$(".menu-item-close").removeClass("menu-item-close--white"))})}else $(this).attr("data-click-state",1),$(this).addClass("open-block"),$(this).removeClass("active"),$(".js-menu-item").removeClass("menu-active"),$(".js-modal_window").fadeOut(),$(".menu-item-close").removeClass("active"),$("body,head,html").css("overflow-x","hidden"),$("body,head,html").css("overflow-y","auto"),$(".menu-item-close").removeClass("menu-item-close--white")}),$(".js-scale__open, .js-scale__if").click(function(){var e=$(this);if(e.hasClass("active"));else{$(".js-scale__open").removeClass("active"),e.addClass("active"),$(".js-scale__content").fadeOut(0);var t=$(".js-scale__open.active").attr("data-monolit-scale");if("all"==t)return void $(".js-scale__content").fadeIn(0);$(".js-scale__content").each(function(){$(this).attr("data-monolit-scale")==t&&$(this).fadeIn(0)})}}),window.onscroll=function(){1<(e=window.pageYOffset||document.documentElement.scrollTop)&&$(".header").addClass("scroll"),e<1&&$(".header").removeClass("scroll")},$(".fancybox-media,.content_wp a:has(img)").fancybox({openEffect:"none",closeEffect:"none",maxWidth:"100%",maxHeight:"auto",padding:0,margin:0,helpers:{media:{youtube:{params:{theme:"light",vq:"hd720",css:{body:"color: #fff"}}}}}}),$(".js-open-close").click(function(){1==$(this).parents(".js-open-close-item").attr("data-click-state")?($(this).parents(".js-open-close-item").attr("data-click-state",0),$(this).parents(".js-open-close-item").removeClass("active"),$(this).parents(".js-open-close-item").find(".js-item__desc").slideUp(),$(this).find(".btn-open-close__text").html($(this).attr("data-open-text"))):($(this).parents(".js-open-close-item").attr("data-click-state",1),$(this).parents(".js-open-close-item").addClass("active"),$(this).parents(".js-open-close-item").find(".js-item__desc").slideDown(),$(this).find(".btn-open-close__text").html($(this).attr("data-close-text")))}),0<$(".carousel-init--hero").length)new Swiper(".carousel-init--hero",{spaceBetween:0,grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",loop:!0,fade:!0,effect:"fade",fadeEffect:{crossFade:!0},virtualTranslate:!0,slidesPerGroup:1,autoHeight:!0,navigation:{nextEl:".slick-m-next--hero",prevEl:".slick-m-prev--hero"},pagination:{el:".slick-dots--hero",type:"bullets"}});if(0<$(".carousel-init--services").length)new Swiper(".carousel-init--services",{autoHeight:!0,loop:!1,spaceBetween:10,slidesPerView:"auto",centeredSlides:!1,navigation:{nextEl:".slick-m-next--services",prevEl:".slick-m-prev--services"},pagination:{el:".slick-dots--services",type:"bullets"},breakpoints:{0:{spaceBetween:20},800:{spaceBetween:10}}});if(0<$(".carousel-init--discount").length)new Swiper(".carousel-init--discount",{autoHeight:!0,loop:!1,spaceBetween:40,slidesPerView:2,centeredSlides:!1,navigation:{nextEl:".slick-m-next--discount",prevEl:".slick-m-prev--discount"},breakpoints:{0:{slidesPerView:1},800:{slidesPerView:2}},pagination:{el:".slick-dots--discount",type:"bullets"}});if(0<$(".carousel-init--reviews").length)new Swiper(".carousel-init--reviews",{autoHeight:!0,loop:!1,spaceBetween:40,slidesPerView:2,centeredSlides:!1,navigation:{nextEl:".slick-m-next--reviews",prevEl:".slick-m-prev--reviews"},breakpoints:{0:{slidesPerView:1},1140:{slidesPerView:2}},pagination:{el:".slick-dots--reviews",type:"bullets"}});function t(e,t){e.addClass("carousel-init carousel-init--"+t+" swiper-container"),e.find(">*").each(function(){$(this).wrap('<div class="swiper-slide carousel-item"></div>')}),e.wrapInner('<div class="swiper-wrapper"></div>')}if($(document).width()<800){if($(".cat-list__item--big").wrapAll('<div class="cat-list__item__group">'),$(".js-mob-cat-all__filter-item").appendTo($(".cat-all__filter--mob")),$(".cart-mini").insertBefore($(".js-mob-cart-mini")),$(".hero__item").each(function(){$(this).find(".hero__item__right").appendTo($(this).parent(".swiper-slide"))}),t($(".cat-list__items"),"cart_list"),0<$(".carousel-init--cart_list").length)new Swiper(".carousel-init--cart_list",{autoHeight:!0,loop:!0,spaceBetween:10,slidesPerView:"auto",centeredSlides:!1});if(t($(".map__button__left--mob-slider"),"map__button__left"),0<$(".carousel-init--map__button__left").length)new Swiper(".carousel-init--map__button__left",{autoHeight:!1,loop:!1,spaceBetween:10,slidesPerView:"auto",centeredSlides:!1});$(".menu li").each(function(){0<$(this).find("ul").length&&($(this).find("a").first().addClass("parent parent__arrow"),$(this).find("a").first().removeAttr("href"))}),$(".menu li.menu__item--back").each(function(){$(this).find("a").first().addClass("parent__arrow"),$(this).find("a").first().removeAttr("href")}),$(".parent").click(function(){$(this).addClass("active__child")}),$(".menu__item--back").click(function(){$(this).parent("ul").parent("li").find(".parent").removeClass("active__child")})}if(801<$(document).width()&&$(".menu li").each(function(){0<$(this).find("ul").length&&$(this).find("a").first().addClass("parent parent__arrow")}),$(document).width()<1140&&(t($(".cat-all__tabs"),"cat-all__tabs"),0<$(".carousel-init--cat-all__tabs").length))new Swiper(".carousel-init--cat-all__tabs",{autoHeight:!0,loop:!1,spaceBetween:10,slidesPerView:"auto",centeredSlides:!1});var a=window.location.href;$("ul li").each(function(){var e=$(this).find("a").first().attr("href");a==e&&($(this).addClass("active"),$(this).find("a").first().removeAttr("href"),$(this).parents("li").addClass("active"))}),$(".burger").on("click",function(){1==$(this).attr("data-click-state")?$(this).attr("data-click-state",0):$(this).attr("data-click-state",1),$(this).parents(".header").toggleClass("active")}),800<$(document).width()&&($(".page__content-wrapper").theiaStickySidebar({additionalMarginTop:120,additionalMarginBottom:0}),$(".page__sidebar-wrapper").theiaStickySidebar({additionalMarginTop:120,additionalMarginBottom:0})),$('.scroll[href^="#"]').click(function(){return $("html, body").animate({scrollTop:$($(this).attr("href")).offset().top},{duration:600,easing:"swing"}),!1}),$("input,textarea").on("input keyup",function(){""==$(this).val()?($(this).removeClass("true"),$(this).addClass("false")):($(this).removeClass("false"),$(this).addClass("true"))}),$(".quantity_inner .bt_minus").click(function(){var e=$(this).parent().find(".quantity"),t=(e.attr("data-sep"),parseInt(e.val())-1);t=t<1?1:t,e.val(t),e.attr("data-count",parseInt(t))}),$(".quantity_inner .bt_plus").click(function(){var e=$(this).parent().find(".quantity"),t=(e.attr("data-sep"),parseInt(e.val())+1);t=t>parseInt(e.data("max-count"))?parseInt(e.data("max-count")):t,e.val(parseInt(t)),e.attr("data-count",parseInt(t))}),$(".quantity_inner .quantity").bind("change keyupel_input click",function(){this.value.match(/[^0-9]/g)&&(this.value=this.value.replace(/[^0-9]/g,"")),""==this.value&&(this.value=1),this.value>parseInt($(this).data("max-count"))&&(this.value=parseInt($(this).data("max-count")))}),tippy(".tippy-message",{animation:"fade",theme:"light",allowHTML:!0,interactive:!0,content:function(e){return $(e).find(".js-tippycont").html()}}),$(".js-tel").inputmask({mask:"+7 (999) 999-99-99",greedy:!0,clearMaskOnLostFocus:!0,clearIncomplete:!0}),$(".js-select").each(function(){var e=$(this),t=e.find("option"),a=t.length,s=(t.filter(":selected"),'<span class="select-prev">'+e.attr("data-prev")+" </span>");e.hide(),e.wrap('<div class="select"></div>'),$("<div>",{class:"new-select",text:e.children("option:disabled").text()}).insertAfter(e),$(s).prependTo(e.next());var i=e.next(".new-select");$("<div>",{class:"new-select__list"}).insertAfter(i);var n=i.next(".new-select__list");$("<div>",{class:"new-select__item new-select__item--back js-closed-select parent__arrow",html:$("<span>",{text:t.eq(0).html()})}).attr("data-value",t.eq(0).val()).appendTo(n),$(n).find(".new-select__item--back").prepend(s);for(var o=1;o<a;o++)$("<div>",{class:"new-select__item",html:$("<span>",{text:t.eq(o).text()})}).attr("data-value",t.eq(o).val()).appendTo(n);var l=n.find(".new-select__item");i.on("click",function(){if($(this).hasClass("on"))$(this).removeClass("on");else{var t=$(this);t.addClass("on"),$(document).width()<800&&$("body,head,html").css("overflow-y","hidden"),l.on("click",function(){if($(document).width()<800&&$("body,head,html").css("overflow-y","auto"),$(this).hasClass("new-select__item--back"))t.removeClass("on");else{var e=$(this).data("value");$(this).parents(".new-select__list").find(".new-select__item").removeClass("active"),$(this).addClass("active"),$(this).parents(".select").find(".new-select").addClass("selected"),$("select").val(e).attr("selected","selected"),i.html(s+$(this).find("span").text()),i.removeClass("on")}})}})}),$(".js-mapdata").click(function(){$(".js-mapdata").removeClass("active"),$(this).addClass("active")}),$("body").on("click",".remove",function(){$(".js-map-object .maploc").removeClass("is-active")})}),tab2s(),loadYamaps(),$(".js-active-map").click(function(){reloadYamaps()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvb3Rlci9mb290ZXIuanMiXSwibmFtZXMiOlsidGFiMnMiLCIkIiwiY2xpY2siLCJ0aGlzIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwic2xpZGVVcCIsImlkX2J0biIsImF0dHIiLCJlYWNoIiwic2xpZGVEb3duIiwibXlNYXAiLCJib3hWaXNpYmxlIiwibWFwc0luaXQiLCJzZWxlY3RvciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInltYXBzIiwiTWFwIiwiY2VudGVyIiwiY29udHJvbHMiLCJ6b29tIiwieWFuZGV4TWFwRGlzYWJsZVBvaUludGVyYWN0aXZpdHkiLCJzdXBwcmVzc01hcE9wZW5CbG9jayIsImJveFRlbXBsYXRlIiwiZ2V0RWxlbWVudEJ5SWQiLCJpY29uV2lkdGgiLCJpY29uSGVpZ2h0IiwiZ2VvUG9seUdvbiIsIkpTT04iLCJwYXJzZSIsIndpbmRvdyIsImRlbGl2ZXJ5Wm9uZSIsIm15UG9seWdvbiIsIlBvbHlnb24iLCJmaWxsQ29sb3IiLCJzdHJva2VXaWR0aCIsInN0cm9rZUNvbG9yIiwiZ2VvT2JqZWN0cyIsImFkZCIsIm1hcGRhdGEiLCJmb3JFYWNoIiwiY29vcmRzIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJpc1Zpb2xldCIsIm1hcmsiLCJQbGFjZW1hcmsiLCJsYXQiLCJsbmciLCJiYWxsb29uQ29udGVudCIsImljb25DYXB0aW9uIiwiYmxvY2tJZCIsImlkIiwiaWNvbkxheW91dCIsImljb25JbWFnZUhyZWYiLCJtYXBtYXJrZXJBY3RpdmUiLCJtYXBtYXJrZXIiLCJpY29uSW1hZ2VTaXplIiwiaWNvbkltYWdlT2Zmc2V0IiwiaGlkZUljb25PbkJhbGxvb25PcGVuIiwiZXZlbnRzIiwiZSIsImVsIiwib3B0aW9ucyIsInNldCIsImlubmVySFRNTCIsIm5lZWRJZCIsImdldCIsInByb3BlcnRpZXMiLCJuZXdCb3giLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiYXBwZW5kIiwic2V0VGltZW91dCIsImlubmVyV2lkdGgiLCJiZWhhdmlvcnMiLCJkaXNhYmxlIiwibG9hZFlhbWFwcyIsImVsZW0iLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwic3JjIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJhcHBlbmRDaGlsZCIsInJlbG9hZFlhbWFwcyIsImNvbnNvbGUiLCJsb2ciLCJkZXN0cm95IiwicmVtb3ZlIiwic2Nyb2xsZWQiLCJmYWRlT3V0IiwiY3NzIiwiZmFkZUluIiwib25zY3JvbGwiLCJwYWdlWU9mZnNldCIsImRvY3VtZW50RWxlbWVudCIsInNjcm9sbFRvcCIsImZhbmN5Ym94Iiwib3BlbkVmZmVjdCIsImNsb3NlRWZmZWN0IiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJwYWRkaW5nIiwibWFyZ2luIiwiaGVscGVycyIsIm1lZGlhIiwieW91dHViZSIsInBhcmFtcyIsInRoZW1lIiwidnEiLCJib2R5IiwicGFyZW50cyIsImZpbmQiLCJodG1sIiwibGVuZ3RoIiwiU3dpcGVyIiwic3BhY2VCZXR3ZWVuIiwiZ3JhYkN1cnNvciIsImNlbnRlcmVkU2xpZGVzIiwic2xpZGVzUGVyVmlldyIsImxvb3AiLCJmYWRlIiwiZWZmZWN0IiwiZmFkZUVmZmVjdCIsImNyb3NzRmFkZSIsInZpcnR1YWxUcmFuc2xhdGUiLCJzbGlkZXNQZXJHcm91cCIsImF1dG9IZWlnaHQiLCJuYXZpZ2F0aW9uIiwibmV4dEVsIiwicHJldkVsIiwicGFnaW5hdGlvbiIsInR5cGUiLCJicmVha3BvaW50cyIsIjAiLCI4MDAiLCIxMTQwIiwic3dpcGVyX2h0bWwiLCJuYW1lIiwid3JhcCIsIndyYXBJbm5lciIsIndpZHRoIiwid3JhcEFsbCIsImFwcGVuZFRvIiwiaW5zZXJ0QmVmb3JlIiwicGFyZW50IiwiZmlyc3QiLCJyZW1vdmVBdHRyIiwiY3VyX3VybF9tIiwibG9jYXRpb24iLCJocmVmIiwibGlua19tIiwib24iLCJ0b2dnbGVDbGFzcyIsInRoZWlhU3RpY2t5U2lkZWJhciIsImFkZGl0aW9uYWxNYXJnaW5Ub3AiLCJhZGRpdGlvbmFsTWFyZ2luQm90dG9tIiwiYW5pbWF0ZSIsIm9mZnNldCIsInRvcCIsImR1cmF0aW9uIiwiZWFzaW5nIiwidmFsIiwiZWxfaW5wdXQiLCJjb3VudCIsInBhcnNlSW50IiwiZGF0YSIsImJpbmQiLCJ2YWx1ZSIsIm1hdGNoIiwicmVwbGFjZSIsInRpcHB5IiwiYW5pbWF0aW9uIiwiYWxsb3dIVE1MIiwiaW50ZXJhY3RpdmUiLCJmIiwiaW5wdXRtYXNrIiwibWFzayIsImdyZWVkeSIsImNsZWFyTWFza09uTG9zdEZvY3VzIiwiY2xlYXJJbmNvbXBsZXRlIiwiX3RoaXMiLCJzZWxlY3RPcHRpb24iLCJzZWxlY3RPcHRpb25MZW5ndGgiLCJwcmV2VGV4dEh0bWwiLCJmaWx0ZXIiLCJoaWRlIiwiY2xhc3MiLCJ0ZXh0IiwiY2hpbGRyZW4iLCJpbnNlcnRBZnRlciIsInByZXBlbmRUbyIsIm5leHQiLCJzZWxlY3RIZWFkIiwic2VsZWN0TGlzdCIsImVxIiwicHJlcGVuZCIsImkiLCJzZWxlY3RJdGVtIiwic2VsZWN0X29uIiwiY2hvb3NlSXRlbSJdLCJtYXBwaW5ncyI6IkFBNm1CQSxTQUFBQSxRQUNBQyxFQUFBLGlCQUFBQyxNQUFBLFdBRUEsR0FBQUQsRUFBQUUsTUFBQUMsU0FBQSxlQUdBLENBQ0FILEVBQUEsaUJBQUFJLFlBQUEsVUFDQUosRUFBQUUsTUFBQUcsU0FBQSxVQUNBTCxFQUFBLG9CQUFBTSxRQVBBLEtBUUEsSUFBQUMsRUFBQVAsRUFBQUUsTUFBQU0sS0FBQSxxQkFDQVIsRUFBQSxvQkFBQVMsS0FBQSxXQUNBVCxFQUFBRSxNQUFBTSxLQUFBLHNCQUFBRCxHQUNBUCxFQUFBRSxNQUFBUSxVQVhBLFVBbUJBLElBQUFDLE1BQ0FDLFdBQ0EsU0FBQUMsV0FFQSxJQUFBQyxFQUFBQyxTQUFBQyxjQUFBLGlCQUVBTCxNQUFBLElBQUFNLE1BQUFDLElBQUFKLEVBQUEsQ0FDQUssT0FGQSxDQUFBLGtCQUFBLG1CQUdBQyxTQUFBLENBQUEsZUFDQUMsS0FBQSxJQUVBLENBQ0FD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LFFBMkhBK0UsYUFjQTlFLEVBQUEsa0JBQUFDLE1BQUEsV0FDQW9GIiwiZmlsZSI6ImNvbW1vbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGZ1bmN0aW9uKCl7XHJcblx0Ly8gJC5waXhsYXlvdXQoe1xyXG5cdC8vIFx0c3JjOiBcIi9hcHAucG5nXCIsIFxyXG5cdC8vIFx0b3BhY2l0eTogMC4zLFxyXG4gICAgLy8gICAgIHRvcDogMCxcclxuICAgIC8vICAgICBjZW50ZXI6IHRydWUsXHJcbiAgICAvLyAgICAgbGVmdDogMjUyLFxyXG4gICAgLy8gICAgIHJpZ2h0OiAyNTgsXHJcblx0Ly8gXHRwZXJ2aW91czogdHJ1ZSxcclxuXHQvLyBcdGNsaXA6IGZhbHNlLFxyXG5cdC8vIFx0c2hvdzogdHJ1ZVxyXG4gICAgLy8gfSwgXCJib2R5XCIpO1xyXG4gICAgXHJcbiAgICAvLyDQnNC+0LTQsNC70YzQvdGL0LUg0L7QutC90LBcclxuICAgIGZ1bmN0aW9uIG1vZGFsKCl7XHJcbiAgICAgICAgJCgnLmpzLW1vZGFsX2J0bl9jbG9zZSwuanMtbW9kYWxfY2xvc2UsLmpzLWNsb3NlX2J0biwuanMtYnRuQ2xvc2VNb2RhbCcpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICQoJy5qcy1tb2RhbF93aW5kb3cnKS5mYWRlT3V0KCk7XHJcbiAgICAgICAgICAgICQoJy5qcy1tZW51LWl0ZW0nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICQoJ2JvZHksaGVhZCxodG1sJykuY3NzKCdvdmVyZmxvdy14JywnaGlkZGVuJylcclxuICAgICAgICAgICAgJCgnYm9keSxoZWFkLGh0bWwnKS5jc3MoJ292ZXJmbG93LXknLCdhdXRvJylcclxuICAgICAgICAgICAgJCgnLm1lbnUtaXRlbS1jbG9zZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAkKCcubWVudS1pdGVtLWNsb3NlJykucmVtb3ZlQ2xhc3MoJ21lbnUtaXRlbS1jbG9zZS0td2hpdGUnKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoJy5qcy1vcGVuX21vZGFsJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyIGlkX2J0biA9ICQodGhpcykuYXR0cignZGF0YS1tb25vbGl0LW1vZGFsJyk7XHJcbiAgICAgICAgICAgICQoJy5qcy1tb2RhbF93aW5kb3cnKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBpZigkKHRoaXMpLmF0dHIoJ2RhdGEtbW9ub2xpdC1tb2RhbCcpID09IGlkX2J0bil7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnYm9keSxoZWFkLGh0bWwnKS5jc3MoJ292ZXJmbG93JywnaGlkZGVuJylcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZhZGVJbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5tZW51LWl0ZW0tY2xvc2UnKS5hZGRDbGFzcygnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgICAgICAkKCcubWVudS1pdGVtLWNsb3NlJykuYWRkQ2xhc3MoJ21lbnUtaXRlbS1jbG9zZS0td2hpdGUnKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBtb2RhbCgpXHJcblxyXG4gICAgLy8g0JzQvtC00LDQu9GM0L3Ri9C1INC+0LrQvdCwIG1lbnVcclxuICAgIGZ1bmN0aW9uIG1lbnUoKXtcclxuICAgICAgICAkKCcuanMtY2xvc2VfbWVudScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICQoXCJbZGF0YS1jbGljay1zdGF0ZT0nMCddXCIpLmF0dHIoJ2RhdGEtY2xpY2stc3RhdGUnLCcxJylcclxuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICQoJy5qcy1tZW51LWl0ZW0nKS5yZW1vdmVDbGFzcygnbWVudS1hY3RpdmUnKTtcclxuICAgICAgICAgICAgJCgnLmpzLW1vZGFsX3dpbmRvdycpLmZhZGVPdXQoKTtcclxuICAgICAgICAgICAgJCgnLm1lbnUtaXRlbS1jbG9zZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAkKCdib2R5LGhlYWQsaHRtbCcpLmNzcygnb3ZlcmZsb3cteCcsJ2hpZGRlbicpXHJcbiAgICAgICAgICAgICQoJ2JvZHksaGVhZCxodG1sJykuY3NzKCdvdmVyZmxvdy15JywnYXV0bycpXHJcbiAgICAgICAgICAgICQoJy5tZW51LWl0ZW0tY2xvc2UnKS5yZW1vdmVDbGFzcygnbWVudS1pdGVtLWNsb3NlLS13aGl0ZScpXHJcbiAgICAgICAgfSlcclxuICAgICAgICAkKCcuanMtb3Blbl9tZW51JykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgaWYoJCh0aGlzKS5hdHRyKCdkYXRhLWNsaWNrLXN0YXRlJykgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWNsaWNrLXN0YXRlJywgMClcclxuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlkX2J0biA9ICQodGhpcykuYXR0cignZGF0YS1tb25vbGl0LW1lbnUnKTtcclxuICAgICAgICAgICAgICAgICQoJy5qcy1tZW51LWl0ZW0nKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoJCh0aGlzKS5hdHRyKCdkYXRhLW1vbm9saXQtbWVudScpID09IGlkX2J0bil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ21lbnUtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5tZW51LWl0ZW0tY2xvc2UnKS5hZGRDbGFzcygnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnYm9keSxoZWFkLGh0bWwnKS5jc3MoJ292ZXJmbG93JywnaGlkZGVuJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm1lbnUtaXRlbS1jbG9zZScpLnJlbW92ZUNsYXNzKCdtZW51LWl0ZW0tY2xvc2UtLXdoaXRlJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWNsaWNrLXN0YXRlJywgMSlcclxuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ29wZW4tYmxvY2snKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmpzLW1lbnUtaXRlbScpLnJlbW92ZUNsYXNzKCdtZW51LWFjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmpzLW1vZGFsX3dpbmRvdycpLmZhZGVPdXQoKTtcclxuICAgICAgICAgICAgICAgICQoJy5tZW51LWl0ZW0tY2xvc2UnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgICQoJ2JvZHksaGVhZCxodG1sJykuY3NzKCdvdmVyZmxvdy14JywnaGlkZGVuJylcclxuICAgICAgICAgICAgICAgICQoJ2JvZHksaGVhZCxodG1sJykuY3NzKCdvdmVyZmxvdy15JywnYXV0bycpXHJcbiAgICAgICAgICAgICAgICAkKCcubWVudS1pdGVtLWNsb3NlJykucmVtb3ZlQ2xhc3MoJ21lbnUtaXRlbS1jbG9zZS0td2hpdGUnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIG1lbnUoKVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBtYXBfaXRlbXMoKXtcclxuICAgICAgICAkKCcuanMtc2NhbGVfX29wZW4sIC5qcy1zY2FsZV9faWYnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGVsID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIHZhciBzID0gMDtcclxuICAgICAgICAgICAgICAgIGlmKGVsLmhhc0NsYXNzKCdhY3RpdmUnKSl7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuanMtc2NhbGVfX29wZW4nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5qcy1zY2FsZV9fY29udGVudCcpLmZhZGVPdXQocylcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaWRfYnRuID0gJCgnLmpzLXNjYWxlX19vcGVuLmFjdGl2ZScpLmF0dHIoJ2RhdGEtbW9ub2xpdC1zY2FsZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGlkX2J0biA9PSAnYWxsJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5qcy1zY2FsZV9fY29udGVudCcpLmZhZGVJbihzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkKCcuanMtc2NhbGVfX2NvbnRlbnQnKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCQodGhpcykuYXR0cignZGF0YS1tb25vbGl0LXNjYWxlJykgPT0gaWRfYnRuKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuZmFkZUluKHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgbWFwX2l0ZW1zKClcclxuICAgIC8vIGZ1bmN0aW9uIHRhYjJzQ2F0YWxvZygpe1xyXG4gICAgLy8gICAgICQoJy5qcy10YWJfX29wZW4tY2F0YWxvZycpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAvLyAgICAgICAgIHZhciBzID0gMDtcclxuICAgIC8vICAgICAgICAgaWYoJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpe1xyXG4gICAgLy8gICAgICAgICAgICAgJCgnLmpzLXRhYl9fb3Blbi1jYXRhbG9nJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgLy8gICAgICAgICAgICAgJCgnLmpzLXRhYl9fY29udGVudCcpLnNsaWRlVXAocylcclxuICAgIC8vICAgICAgICAgfWVsc2V7XHJcbiAgICAvLyAgICAgICAgICAgICAkKCcuanMtdGFiX19vcGVuLWNhdGFsb2cnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAvLyAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgIC8vICAgICAgICAgICAgICQoJy5qcy10YWJfX2NvbnRlbnQtY2F0YWxvZycpLnNsaWRlVXAocylcclxuICAgIC8vICAgICAgICAgICAgIHZhciBpZF9idG4gPSAkKHRoaXMpLmF0dHIoJ2RhdGEtbW9ub2xpdC10YWJzLWNhdGFsb2cnKTtcclxuICAgIC8vICAgICAgICAgICAgICQoJy5qcy10YWJfX2NvbnRlbnQtY2F0YWxvZycpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICBpZigkKHRoaXMpLmF0dHIoJ2RhdGEtbW9ub2xpdC10YWJzLWNhdGFsb2cnKSA9PSBpZF9idG4pe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnNsaWRlRG93bihzKTtcclxuICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICB9KVxyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfSlcclxuICAgIC8vIH1cclxuICAgIC8vIHRhYjJzQ2F0YWxvZygpXHJcblxyXG4gICAgLy8g0KHQutGA0L7Qu9C7INGI0LDQv9C60LhcclxuICAgIHZhciBzY3JvbGxlZDtcclxuICAgIHdpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNjcm9sbGVkID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XHJcbiAgICAgICAgaWYoc2Nyb2xsZWQgPiAxKXtcclxuICAgICAgICAgICAgJChcIi5oZWFkZXJcIikuYWRkQ2xhc3MoJ3Njcm9sbCcpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKDEgPiBzY3JvbGxlZCl7XHJcbiAgICAgICAgICAgICQoXCIuaGVhZGVyXCIpLnJlbW92ZUNsYXNzKCdzY3JvbGwnKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8g0KPQstC10LvQuNGH0LXQvdC40LUg0LrQsNGA0YLQuNC90L7QulxyXG4gICAgJCgnLmZhbmN5Ym94LW1lZGlhLC5jb250ZW50X3dwIGE6aGFzKGltZyknKS5mYW5jeWJveCh7XHJcbiAgICAgICAgb3BlbkVmZmVjdCAgOiAnbm9uZScsXHJcbiAgICAgICAgY2xvc2VFZmZlY3QgOiAnbm9uZScsXHJcbiAgICAgICAgICAgIG1heFdpZHRoICAgIDogJzEwMCUnLFxyXG4gICAgICAgICAgICBtYXhIZWlnaHQgICA6ICdhdXRvJywgIFxyXG4gICAgICAgICAgICBwYWRkaW5nICAgICA6IDAsXHJcbiAgICAgICAgICAgIG1hcmdpbiAgICAgIDogMCwgICAgICAgICAgIFxyXG4gICAgICAgIGhlbHBlcnMgOiB7XHJcbiAgICAgICAgICBtZWRpYSA6IHtcclxuICAgICAgICAgICAgICB5b3V0dWJlIDoge1xyXG4gICAgICAgICAgICAgICAgICAgcGFyYW1zIDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgIHRoZW1lIDogJ2xpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2cSAgICA6ICdoZDcyMCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzICAgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2JvZHknIDogJ2NvbG9yOiAjZmZmJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDRgdC60YDRi9GC0YvQuSDRgtC10LrRgdGCXHJcbiAgICAkKCcuanMtb3Blbi1jbG9zZScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgaWYoJCh0aGlzKS5wYXJlbnRzKCcuanMtb3Blbi1jbG9zZS1pdGVtJykuYXR0cignZGF0YS1jbGljay1zdGF0ZScpID09IDEpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuanMtb3Blbi1jbG9zZS1pdGVtJykuYXR0cignZGF0YS1jbGljay1zdGF0ZScsIDApXHJcbiAgICAgICAgICAgICQodGhpcykucGFyZW50cygnLmpzLW9wZW4tY2xvc2UtaXRlbScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuanMtb3Blbi1jbG9zZS1pdGVtJykuZmluZCgnLmpzLWl0ZW1fX2Rlc2MnKS5zbGlkZVVwKCk7XHJcbiAgICAgICAgICAgICQodGhpcykuZmluZCgnLmJ0bi1vcGVuLWNsb3NlX190ZXh0JykuaHRtbCgkKHRoaXMpLmF0dHIoJ2RhdGEtb3Blbi10ZXh0JykpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQodGhpcykucGFyZW50cygnLmpzLW9wZW4tY2xvc2UtaXRlbScpLmF0dHIoJ2RhdGEtY2xpY2stc3RhdGUnLCAxKVxyXG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy5qcy1vcGVuLWNsb3NlLWl0ZW0nKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICQodGhpcykucGFyZW50cygnLmpzLW9wZW4tY2xvc2UtaXRlbScpLmZpbmQoJy5qcy1pdGVtX19kZXNjJykuc2xpZGVEb3duKCk7XHJcbiAgICAgICAgICAgICQodGhpcykuZmluZCgnLmJ0bi1vcGVuLWNsb3NlX190ZXh0JykuaHRtbCgkKHRoaXMpLmF0dHIoJ2RhdGEtY2xvc2UtdGV4dCcpKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gIFxyXG4gICAgLy8gc3dpcGVyXHJcbiAgICBpZiAoJCgnLmNhcm91c2VsLWluaXQtLWhlcm8nKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgdmFyIHNsaWRlckhlcm8gPSBuZXcgU3dpcGVyKCcuY2Fyb3VzZWwtaW5pdC0taGVybycsIHsgXHJcbiAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMCxcclxuICAgICAgICAgICAgZ3JhYkN1cnNvcjogdHJ1ZSxcclxuICAgICAgICAgICAgY2VudGVyZWRTbGlkZXM6IHRydWUsXHJcbiAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgZmFkZTogdHJ1ZSxcclxuICAgICAgICAgICAgZWZmZWN0OiBcImZhZGVcIixcclxuICAgICAgICAgICAgZmFkZUVmZmVjdDogeyBjcm9zc0ZhZGU6IHRydWUgfSxcclxuICAgICAgICAgICAgdmlydHVhbFRyYW5zbGF0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgc2xpZGVzUGVyR3JvdXA6IDEsXHJcbiAgICAgICAgICAgIGF1dG9IZWlnaHQ6IHRydWUsXHJcbiAgICAgICAgICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgICAgICAgICAgIG5leHRFbDogJy5zbGljay1tLW5leHQtLWhlcm8nLFxyXG4gICAgICAgICAgICAgICAgcHJldkVsOiAnLnNsaWNrLW0tcHJldi0taGVybycsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgICAgICAgICBlbDogJy5zbGljay1kb3RzLS1oZXJvJyxcclxuICAgICAgICAgICAgICB0eXBlOiAnYnVsbGV0cycsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoJCgnLmNhcm91c2VsLWluaXQtLXNlcnZpY2VzJykubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHZhciBzbGlkZXJTZXJ2aWNlcyA9IG5ldyBTd2lwZXIoJy5jYXJvdXNlbC1pbml0LS1zZXJ2aWNlcycsIHtcclxuICAgICAgICBhdXRvSGVpZ2h0OiB0cnVlLFxyXG4gICAgICAgIGxvb3A6IGZhbHNlLFxyXG4gICAgICAgIHNwYWNlQmV0d2VlbjogMTAsXHJcbiAgICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxyXG4gICAgICAgIGNlbnRlcmVkU2xpZGVzOiBmYWxzZSxcclxuICAgICAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgICAgICAgIG5leHRFbDogXCIuc2xpY2stbS1uZXh0LS1zZXJ2aWNlc1wiLFxyXG4gICAgICAgICAgICBwcmV2RWw6IFwiLnNsaWNrLW0tcHJldi0tc2VydmljZXNcIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgICAgIGVsOiAnLnNsaWNrLWRvdHMtLXNlcnZpY2VzJyxcclxuICAgICAgICAgIHR5cGU6ICdidWxsZXRzJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJyZWFrcG9pbnRzOiB7XHJcbiAgICAgICAgICAgIDA6IHtcclxuICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMjAsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIDgwMDoge1xyXG4gICAgICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAxMCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gaWYgKCQoJy5jYXJvdXNlbC1pbml0LS1zZXJ2aWNlcycpLmxlbmd0aCA+IDApIHtcclxuICAgIC8vICAgICB2YXIgc2xpZGVyU2VydmljZXMgPSBuZXcgU3dpcGVyKCcuY2Fyb3VzZWwtaW5pdC0tc2VydmljZXMnLCB7XHJcbiAgICAvLyAgICAgYXV0b0hlaWdodDogZmFsc2UsXHJcbiAgICAvLyAgICAgbG9vcDogZmFsc2UsXHJcbiAgICAvLyAgICAgc3BhY2VCZXR3ZWVuOiAxMCxcclxuICAgIC8vICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXHJcbiAgICAvLyAgICAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxyXG4gICAgLy8gICAgIG5hdmlnYXRpb246IHtcclxuICAgIC8vICAgICAgICAgbmV4dEVsOiBcIi5zbGljay1tLW5leHQtLXNlcnZpY2VzXCIsXHJcbiAgICAvLyAgICAgICAgIHByZXZFbDogXCIuc2xpY2stbS1wcmV2LS1zZXJ2aWNlc1wiLFxyXG4gICAgLy8gICAgIH0sXHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyB9XHJcbiAgICBpZiAoJCgnLmNhcm91c2VsLWluaXQtLWRpc2NvdW50JykubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHZhciBzbGlkZXJkaXNjb3VudCA9IG5ldyBTd2lwZXIoJy5jYXJvdXNlbC1pbml0LS1kaXNjb3VudCcsIHtcclxuICAgICAgICBhdXRvSGVpZ2h0OiB0cnVlLFxyXG4gICAgICAgIGxvb3A6IGZhbHNlLFxyXG4gICAgICAgIHNwYWNlQmV0d2VlbjogNDAsXHJcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMixcclxuICAgICAgICBjZW50ZXJlZFNsaWRlczogZmFsc2UsXHJcbiAgICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgICAgICBuZXh0RWw6IFwiLnNsaWNrLW0tbmV4dC0tZGlzY291bnRcIixcclxuICAgICAgICAgICAgcHJldkVsOiBcIi5zbGljay1tLXByZXYtLWRpc2NvdW50XCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBicmVha3BvaW50czoge1xyXG4gICAgICAgICAgICAwOiB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICA4MDA6IHtcclxuICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwYWdpbmF0aW9uOiB7XHJcbiAgICAgICAgICBlbDogJy5zbGljay1kb3RzLS1kaXNjb3VudCcsXHJcbiAgICAgICAgICB0eXBlOiAnYnVsbGV0cycsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmICgkKCcuY2Fyb3VzZWwtaW5pdC0tcmV2aWV3cycpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICB2YXIgc2xpZGVycmV2aWV3cyA9IG5ldyBTd2lwZXIoJy5jYXJvdXNlbC1pbml0LS1yZXZpZXdzJywge1xyXG4gICAgICAgIGF1dG9IZWlnaHQ6IHRydWUsXHJcbiAgICAgICAgbG9vcDogZmFsc2UsXHJcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiA0MCxcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxyXG4gICAgICAgIGNlbnRlcmVkU2xpZGVzOiBmYWxzZSxcclxuICAgICAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgICAgICAgIG5leHRFbDogXCIuc2xpY2stbS1uZXh0LS1yZXZpZXdzXCIsXHJcbiAgICAgICAgICAgIHByZXZFbDogXCIuc2xpY2stbS1wcmV2LS1yZXZpZXdzXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBicmVha3BvaW50czoge1xyXG4gICAgICAgICAgICAwOiB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAxMTQwOiB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICAgICAgZWw6ICcuc2xpY2stZG90cy0tcmV2aWV3cycsXHJcbiAgICAgICAgICB0eXBlOiAnYnVsbGV0cycsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBpZiAoJCgnLmNhcm91c2VsLWluaXQtLXByb2R1Y3QtbmF2JykubGVuZ3RoID4gMCkge1xyXG4gICAgLy8gICAgIHZhciBzbGlkZXJUaHVtYnMgPSBuZXcgU3dpcGVyKCcuY2Fyb3VzZWwtaW5pdC0tcHJvZHVjdC1uYXYnLCB7IFxyXG4gICAgLy8gICAgICAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCcsIFxyXG4gICAgLy8gICAgICAgICBzbGlkZXNQZXJWaWV3OiAzLCBcclxuICAgIC8vICAgICAgICAgc3BhY2VCZXR3ZWVuOiAwLCBcclxuICAgIC8vICAgICAgICAgZnJlZU1vZGU6IHRydWUsIFxyXG4gICAgLy8gICAgICAgICBsb29wOiBmYWxzZSxcclxuICAgIC8vICAgICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcclxuICAgIC8vICAgICB9KTtcclxuICAgIC8vIH1cclxuICAgIC8vIGlmICgkKCcuY2Fyb3VzZWwtaW5pdC0tcHJvZHVjdC1tYWluJykubGVuZ3RoID4gMCkge1xyXG4gICAgLy8gICAgIHZhciBzbGlkZXJJbWFnZXMgPSBuZXcgU3dpcGVyKCcuY2Fyb3VzZWwtaW5pdC0tcHJvZHVjdC1tYWluJywgeyBcclxuICAgIC8vICAgICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxyXG4gICAgLy8gICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gICAgLy8gICAgICAgICBzcGFjZUJldHdlZW46IDMyLFxyXG4gICAgLy8gICAgICAgICBtb3VzZXdoZWVsOiB0cnVlLFxyXG4gICAgLy8gICAgICAgICBsb29wOiBmYWxzZSxcclxuICAgIC8vICAgICAgICAgZ3JhYkN1cnNvcjogdHJ1ZSwgXHJcbiAgICAvLyAgICAgICAgIHRodW1iczogeyBcclxuICAgIC8vICAgICAgICAgICAgIGF1dG9TY3JvbGxPZmZzZXQ6IDEsXHJcbiAgICAvLyAgICAgICAgICAgICBzd2lwZXI6IHNsaWRlclRodW1icyBcclxuICAgIC8vICAgICAgICAgfSxcclxuICAgIC8vICAgICB9KTtcclxuICAgIC8vIH1cclxuICAgIGZ1bmN0aW9uIHN3aXBlcl9odG1sKGVsLG5hbWUpe1xyXG4gICAgICAgIGVsLmFkZENsYXNzKCdjYXJvdXNlbC1pbml0IGNhcm91c2VsLWluaXQtLScrbmFtZSsnIHN3aXBlci1jb250YWluZXInKVxyXG4gICAgICAgIGVsLmZpbmQoJz4qJykuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkKHRoaXMpLndyYXAoJzxkaXYgY2xhc3M9XCJzd2lwZXItc2xpZGUgY2Fyb3VzZWwtaXRlbVwiPjwvZGl2PicpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGVsLndyYXBJbm5lcignPGRpdiBjbGFzcz1cInN3aXBlci13cmFwcGVyXCI+PC9kaXY+Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYoJChkb2N1bWVudCkud2lkdGgoKSA8IDgwMCA/IHRydWUgOiBmYWxzZSl7XHJcbiAgICAgICAgLy8g0L/QtdGA0LXQvNC10YnQsNC10Lwg0LHQuNCzINC60LDRgtC10LPQvtGA0LjQuFxyXG4gICAgICAgICQoJy5jYXQtbGlzdF9faXRlbS0tYmlnJykud3JhcEFsbCgnPGRpdiBjbGFzcz1cImNhdC1saXN0X19pdGVtX19ncm91cFwiPicpO1xyXG4gICAgICAgIC8vINCf0LXRgNC10LzQtdGJ0LDQtdC8INGE0LjQu9GM0YLRgFxyXG4gICAgICAgICQoJy5qcy1tb2ItY2F0LWFsbF9fZmlsdGVyLWl0ZW0nKS5hcHBlbmRUbyggJCgnLmNhdC1hbGxfX2ZpbHRlci0tbW9iJykpXHJcbiAgICAgICAgLy8g0J/QtdGA0LXQvNC10YnQsNC10LwgY2FydFxyXG4gICAgICAgICQoJy5jYXJ0LW1pbmknKS5pbnNlcnRCZWZvcmUoICQoJy5qcy1tb2ItY2FydC1taW5pJykpXHJcbiAgICAgICAgLy8g0J/QtdGA0LXQvNC10YnQsNC10Lwg0Y3Qu9C10LzQtdC90YLRi1xyXG4gICAgICAgICQoJy5oZXJvX19pdGVtJykuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy5oZXJvX19pdGVtX19yaWdodCcpLmFwcGVuZFRvKCAkKHRoaXMpLnBhcmVudCgnLnN3aXBlci1zbGlkZScpKVxyXG4gICAgXHJcbiAgICAgICAgfSlcclxuICAgICAgICBzd2lwZXJfaHRtbCgkKCcuY2F0LWxpc3RfX2l0ZW1zJyksJ2NhcnRfbGlzdCcpXHJcbiAgICAgICAgaWYgKCQoJy5jYXJvdXNlbC1pbml0LS1jYXJ0X2xpc3QnKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHZhciBzbGlkZXJyZXZpZXdzID0gbmV3IFN3aXBlcignLmNhcm91c2VsLWluaXQtLWNhcnRfbGlzdCcsIHtcclxuICAgICAgICAgICAgYXV0b0hlaWdodDogdHJ1ZSxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAxMCxcclxuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxyXG4gICAgICAgICAgICBjZW50ZXJlZFNsaWRlczogZmFsc2UsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2lwZXJfaHRtbCgkKCcubWFwX19idXR0b25fX2xlZnQtLW1vYi1zbGlkZXInKSwnbWFwX19idXR0b25fX2xlZnQnKVxyXG4gICAgICAgIGlmICgkKCcuY2Fyb3VzZWwtaW5pdC0tbWFwX19idXR0b25fX2xlZnQnKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHZhciBzbGlkZXJyZXZpZXdzID0gbmV3IFN3aXBlcignLmNhcm91c2VsLWluaXQtLW1hcF9fYnV0dG9uX19sZWZ0Jywge1xyXG4gICAgICAgICAgICBhdXRvSGVpZ2h0OiBmYWxzZSxcclxuICAgICAgICAgICAgbG9vcDogZmFsc2UsXHJcbiAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMTAsXHJcbiAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcclxuICAgICAgICAgICAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gbW9iIG1lbnVcclxuICAgICAgICAkKCcubWVudSBsaScpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykuZmluZCgndWwnKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJ2EnKS5maXJzdCgpLmFkZENsYXNzKCdwYXJlbnQgcGFyZW50X19hcnJvdycpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKCdhJykuZmlyc3QoKS5yZW1vdmVBdHRyKCdocmVmJyk7XHJcbiAgICAgICAgICAgICAgICAvLyAkKHRoaXMpLmZpbmQoJ2EnKS5maXJzdCgpLmFwcGVuZCgnPGRpdiBjbGFzcz1cInBhcmVudF9fYXJyb3dcIj48L2Rpdj4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgJCgnLm1lbnUgbGkubWVudV9faXRlbS0tYmFjaycpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnYScpLmZpcnN0KCkuYWRkQ2xhc3MoJ3BhcmVudF9fYXJyb3cnKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnYScpLmZpcnN0KCkucmVtb3ZlQXR0cignaHJlZicpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgJCgnLnBhcmVudCcpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZV9fY2hpbGQnKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICQoJy5tZW51X19pdGVtLS1iYWNrJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoJ3VsJykucGFyZW50KCdsaScpLmZpbmQoJy5wYXJlbnQnKS5yZW1vdmVDbGFzcygnYWN0aXZlX19jaGlsZCcpXHJcbiAgICAgICAgfSlcclxuICAgIH07XHJcbiAgICBpZigkKGRvY3VtZW50KS53aWR0aCgpID4gODAxID8gdHJ1ZSA6IGZhbHNlKXtcclxuICAgICAgICAkKCcubWVudSBsaScpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykuZmluZCgndWwnKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJ2EnKS5maXJzdCgpLmFkZENsYXNzKCdwYXJlbnQgcGFyZW50X19hcnJvdycpO1xyXG4gICAgICAgICAgICAgICAgLy8gJCh0aGlzKS5maW5kKCdhJykuZmlyc3QoKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJwYXJlbnRfX2Fycm93XCI+PC9kaXY+Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgaWYoJChkb2N1bWVudCkud2lkdGgoKSA8IDExNDAgPyB0cnVlIDogZmFsc2Upe1xyXG4gICAgICAgIHN3aXBlcl9odG1sKCQoJy5jYXQtYWxsX190YWJzJyksJ2NhdC1hbGxfX3RhYnMnKVxyXG4gICAgICAgIGlmICgkKCcuY2Fyb3VzZWwtaW5pdC0tY2F0LWFsbF9fdGFicycpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdmFyIHNsaWRlcnJldmlld3MgPSBuZXcgU3dpcGVyKCcuY2Fyb3VzZWwtaW5pdC0tY2F0LWFsbF9fdGFicycsIHtcclxuICAgICAgICAgICAgYXV0b0hlaWdodDogdHJ1ZSxcclxuICAgICAgICAgICAgbG9vcDogZmFsc2UsXHJcbiAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMTAsXHJcbiAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcclxuICAgICAgICAgICAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcblxyXG4gICAgLy8gYShyZWw9XCJncm91cFwiLCBocmVmPVwiaHR0cHM6Ly9zMy11cy13ZXN0LTIuYW1hem9uYXdzLmNvbS9zLmNkcG4uaW8vNDI3My8xLmpwZ1wiLCBkYXRhLWZhbmN5Ym94PVwiZ2FsbGVyeVwiKS5pdGVtLmZhbmN5Ym94LW1lZGlhXHJcbiAgICAvLyAgICAgaW1nKHNyYz0naHR0cHM6Ly9zMy11cy13ZXN0LTIuYW1hem9uYXdzLmNvbS9zLmNkcG4uaW8vNDI3My8xLmpwZycpXHJcbiAgICBcclxuICAgIC8vINCj0LrQsNC30YvQstCw0LXQvCDRgtC10LrRg9GJ0YPRjiDRgdGB0YvQu9C60YNcclxuICAgIHZhciBsb2NhdGlvbl9tID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XHJcbiAgICB2YXIgY3VyX3VybF9tID0gbG9jYXRpb25fbTtcclxuXHJcbiAgICAkKCd1bCBsaScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBsaW5rX20gPSAkKHRoaXMpLmZpbmQoJ2EnKS5maXJzdCgpLmF0dHIoJ2hyZWYnKTtcclxuICAgICAgICBpZiAoY3VyX3VybF9tID09IGxpbmtfbSkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5maW5kKCdhJykuZmlyc3QoKS5yZW1vdmVBdHRyKCdocmVmJyk7XHJcbiAgICAgICAgICAgICQodGhpcykucGFyZW50cygnbGknKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8g0J/QvtC40YHQulxyXG4gICAgLy8gJCgnLnNlYXJjaF9fYnRuX19pbicpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAvLyAgICAgJCgnLnNlYXJjaF9fZm9ybSwuc2VhcmNoX19idG5fX291dCcpLmZhZGVJbigwKTtcclxuICAgIC8vICAgICAkKCcuc2VhcmNoJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgLy8gICAgICQodGhpcykuYXR0cignZGF0YS1jbGljay1zdGF0ZScsIDApXHJcbiAgICAvLyAgICAgJCh0aGlzKS5wYXJlbnRzKCcuaGVhZGVyJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgLy8gfSlcclxuICAgIC8vICQoJy5zZWFyY2hfX2J0bl9fb3V0JykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgIC8vICAgICAkKCcuc2VhcmNoX19idG5fX291dCcpLmZhZGVPdXQoMCk7XHJcbiAgICAvLyAgICAgJCgnLnNlYXJjaF9fZm9ybScpLmZhZGVPdXQoMCk7XHJcbiAgICAvLyAgICAgJCgnLnNlYXJjaCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgIC8vIH0pXHJcblxyXG4gICAgLy8g0JzQtdC90Y4g0LHRg9GA0LPQtdGAXHJcbiAgICAkKCcuYnVyZ2VyJykub24oJ2NsaWNrJyxmdW5jdGlvbigpe1xyXG4gICAgICAgIGlmKCQodGhpcykuYXR0cignZGF0YS1jbGljay1zdGF0ZScpID09IDEpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWNsaWNrLXN0YXRlJywgMClcclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuaGVhZGVyJykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAvLyAkKCcuc2VhcmNoX19idG5fX291dCcpLmZhZGVPdXQoMCk7XHJcbiAgICAgICAgICAgIC8vICQoJy5zZWFyY2hfX2Zvcm0nKS5mYWRlT3V0KDApO1xyXG4gICAgICAgICAgICAvLyAkKCcuc2VhcmNoJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1jbGljay1zdGF0ZScsIDEpXHJcbiAgICAgICAgICAgICQodGhpcykucGFyZW50cygnLmhlYWRlcicpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgLy8gJCgnLnNlYXJjaF9fYnRuX19vdXQnKS5mYWRlT3V0KDApO1xyXG4gICAgICAgICAgICAvLyAkKCcuc2VhcmNoX19mb3JtJykuZmFkZU91dCgwKTtcclxuICAgICAgICAgICAgLy8gJCgnLnNlYXJjaCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDQntGC0LrRgNGL0YLQuNC1INC00L7Rh9C10YDQvdC10LPQviDQvNC10L3RjlxyXG4gICAgLy8gJCgnYS5wYXJlbnQnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgLy8gICAgICQodGhpcykucGFyZW50KCdsaScpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgIC8vICAgICAkKHRoaXMpLnNpYmxpbmdzKCd1bCcpLnNsaWRlVG9nZ2xlKCk7XHJcbiAgICAvLyB9KVxyXG5cclxuICAgIC8vINCw0LTQsNC/0YLQuNCyINCyIGpzXHJcbiAgICBpZigkKGRvY3VtZW50KS53aWR0aCgpID4gODAwID8gdHJ1ZSA6IGZhbHNlKXtcclxuICAgICAgICAvLyDRgdCw0LnQtCDQsdCw0YDRi1xyXG4gICAgICAgICQoJy5wYWdlX19jb250ZW50LXdyYXBwZXInKS50aGVpYVN0aWNreVNpZGViYXIoe1xyXG4gICAgICAgICAgICBhZGRpdGlvbmFsTWFyZ2luVG9wOiAxMjAsXHJcbiAgICAgICAgICAgIGFkZGl0aW9uYWxNYXJnaW5Cb3R0b206IDAsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCgnLnBhZ2VfX3NpZGViYXItd3JhcHBlcicpLnRoZWlhU3RpY2t5U2lkZWJhcih7XHJcbiAgICAgICAgICAgIGFkZGl0aW9uYWxNYXJnaW5Ub3A6IDEyMCxcclxuICAgICAgICAgICAgYWRkaXRpb25hbE1hcmdpbkJvdHRvbTogMCxcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuXHJcbiAgICAvLyDQodC60YDQvtC7INC00L4g0L/Rg9C90LrRgtCwXHJcbiAgICAkKCcuc2Nyb2xsW2hyZWZePVwiI1wiXScpLmNsaWNrKGZ1bmN0aW9uKCkgeyBcclxuICAgICAgICAkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKHtcclxuICAgICAgICAgICBzY3JvbGxUb3A6ICQoJCh0aGlzKS5hdHRyKFwiaHJlZlwiKSkub2Zmc2V0KCkudG9wXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgIGR1cmF0aW9uOiA2MDAsXHJcbiAgICAgICAgICAgZWFzaW5nOiBcInN3aW5nXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCdpbnB1dCx0ZXh0YXJlYScpLm9uKCdpbnB1dCBrZXl1cCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgVmFsdWUgPSAkKHRoaXMpLnZhbCgpO1xyXG4gICAgICAgIGlmKFZhbHVlID09ICcnKXtcclxuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygndHJ1ZScpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdmYWxzZScpOyBcclxuICAgICAgICB9ZWxzZXsgXHJcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2ZhbHNlJyk7IFxyXG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCd0cnVlJyk7IFxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vINCa0L7Qu9C40YfQtdGB0YLQstC+INCyINC60L7RgNC30LjQvdC1XHJcbiAgICAvLyDQo9Cx0LDQstC70Y/QtdC8INC60L7Quy3QstC+INC/0L4g0LrQu9C40LrRg1xyXG4gICAgJCgnLnF1YW50aXR5X2lubmVyIC5idF9taW51cycpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBlbF9pbnB1dCA9ICQodGhpcykucGFyZW50KCkuZmluZCgnLnF1YW50aXR5Jyk7XHJcbiAgICAgICAgdmFyIHNlcCA9IGVsX2lucHV0LmF0dHIoJ2RhdGEtc2VwJyk7XHJcbiAgICAgICAgdmFyIGNvdW50ID0gcGFyc2VJbnQoZWxfaW5wdXQudmFsKCkpIC0gMTtcclxuICAgICAgICBjb3VudCA9IGNvdW50IDwgMSA/IDEgOiBjb3VudDtcclxuICAgICAgICBlbF9pbnB1dC52YWwoY291bnQpO1xyXG4gICAgICAgIGVsX2lucHV0LmF0dHIoJ2RhdGEtY291bnQnLHBhcnNlSW50KGNvdW50KSlcclxuICAgIH0pO1xyXG4gICAgLy8g0J/RgNC40LHQsNCy0LvRj9C10Lwg0LrQvtC7LdCy0L4g0L/QviDQutC70LjQutGDXHJcbiAgICAkKCcucXVhbnRpdHlfaW5uZXIgLmJ0X3BsdXMnKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZWxfaW5wdXQgPSAkKHRoaXMpLnBhcmVudCgpLmZpbmQoJy5xdWFudGl0eScpO1xyXG4gICAgICAgIHZhciBzZXAgPSBlbF9pbnB1dC5hdHRyKCdkYXRhLXNlcCcpO1xyXG4gICAgICAgIHZhciBjb3VudCA9IHBhcnNlSW50KGVsX2lucHV0LnZhbCgpKSArIDE7XHJcbiAgICAgICAgY291bnQgPSBjb3VudCA+IHBhcnNlSW50KGVsX2lucHV0LmRhdGEoJ21heC1jb3VudCcpKSA/IHBhcnNlSW50KGVsX2lucHV0LmRhdGEoJ21heC1jb3VudCcpKSA6IGNvdW50O1xyXG4gICAgICAgIGVsX2lucHV0LnZhbChwYXJzZUludChjb3VudCkpO1xyXG4gICAgICAgIGVsX2lucHV0LmF0dHIoJ2RhdGEtY291bnQnLHBhcnNlSW50KGNvdW50KSlcclxuICAgIH0pOyBcclxuICAgIC8vINCj0LHQuNGA0LDQtdC8INCy0YHQtSDQu9C40YjQvdC10LUg0Lgg0L3QtdCy0L7Qt9C80L7QttC90L7QtSDQv9GA0Lgg0LjQt9C80LXQvdC10L3QuNC4INC/0L7Qu9GPXHJcbiAgICAkKCcucXVhbnRpdHlfaW5uZXIgLnF1YW50aXR5JykuYmluZChcImNoYW5nZSBrZXl1cGVsX2lucHV0IGNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnZhbHVlLm1hdGNoKC9bXjAtOV0vZykpIHtcclxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUucmVwbGFjZSgvW14wLTldL2csICcnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgPT0gXCJcIikge1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgPiBwYXJzZUludCgkKHRoaXMpLmRhdGEoJ21heC1jb3VudCcpKSkge1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gcGFyc2VJbnQoJCh0aGlzKS5kYXRhKCdtYXgtY291bnQnKSk7XHJcbiAgICAgICAgfSAgICBcclxuICAgIH0pOyAgIFxyXG5cclxuICAgIC8vIHRpcHB5XHJcbiAgICB0aXBweSgnLnRpcHB5LW1lc3NhZ2UnLCB7XHJcbiAgICAgICAgYW5pbWF0aW9uOiAnZmFkZScsXHJcbiAgICAgICAgdGhlbWU6ICdsaWdodCcsXHJcbiAgICAgICAgYWxsb3dIVE1MOiB0cnVlLFxyXG4gICAgICAgIGludGVyYWN0aXZlOiB0cnVlLFxyXG4gICAgICAgIGNvbnRlbnQ6IGZ1bmN0aW9uKGYpe1xyXG4gICAgICAgICAgICByZXR1cm4gJChmKS5maW5kKCcuanMtdGlwcHljb250JykuaHRtbCgpXHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vINC80L7QutGB0LrQuFxyXG4gICAgJChcIi5qcy10ZWxcIikuaW5wdXRtYXNrKHtcclxuICAgICAgICBtYXNrOiBcIis3ICg5OTkpIDk5OS05OS05OVwiLFxyXG4gICAgICAgIGdyZWVkeTogdHJ1ZSxcclxuICAgICAgICBjbGVhck1hc2tPbkxvc3RGb2N1czogdHJ1ZSxcclxuICAgICAgICBjbGVhckluY29tcGxldGU6IHRydWVcclxuICAgIH0pO1xyXG5cclxuICAgIC8vINCa0LDRgdGC0L7QvNC90YvQuSBzZWxlY3RcclxuICAgICQoJy5qcy1zZWxlY3QnKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9ICQodGhpcyksXHJcbiAgICAgICAgICAgIHNlbGVjdE9wdGlvbiA9IF90aGlzLmZpbmQoJ29wdGlvbicpLFxyXG4gICAgICAgICAgICBzZWxlY3RPcHRpb25MZW5ndGggPSBzZWxlY3RPcHRpb24ubGVuZ3RoLFxyXG4gICAgICAgICAgICBzZWxlY3RlZE9wdGlvbiA9IHNlbGVjdE9wdGlvbi5maWx0ZXIoJzpzZWxlY3RlZCcpLFxyXG4gICAgICAgICAgICBwcmV2VGV4dCA9IF90aGlzLmF0dHIoJ2RhdGEtcHJldicpLFxyXG4gICAgICAgICAgICBwcmV2VGV4dEh0bWwgPSAnPHNwYW4gY2xhc3M9XCJzZWxlY3QtcHJldlwiPicrcHJldlRleHQrJyA8L3NwYW4+JyxcclxuICAgICAgICAgICAgZHVyYXRpb24gPSA1MDsgLy8g0LTQu9C40YLQtdC70YzQvdC+0YHRgtGMINCw0L3QuNC80LDRhtC40LggXHJcbiAgICAgICAgX3RoaXMuaGlkZSgpO1xyXG4gICAgICAgIF90aGlzLndyYXAoJzxkaXYgY2xhc3M9XCJzZWxlY3RcIj48L2Rpdj4nKTtcclxuICAgICAgICAkKCc8ZGl2PicsIHtcclxuICAgICAgICAgICAgY2xhc3M6ICduZXctc2VsZWN0JyxcclxuICAgICAgICAgICAgdGV4dDogX3RoaXMuY2hpbGRyZW4oJ29wdGlvbjpkaXNhYmxlZCcpLnRleHQoKVxyXG4gICAgICAgIH0pLmluc2VydEFmdGVyKF90aGlzKTtcclxuICAgICAgICAkKHByZXZUZXh0SHRtbCkucHJlcGVuZFRvKF90aGlzLm5leHQoKSk7XHJcblxyXG5cclxuICAgICAgICB2YXIgc2VsZWN0SGVhZCA9IF90aGlzLm5leHQoJy5uZXctc2VsZWN0Jyk7XHJcbiAgICAgICAgJCgnPGRpdj4nLCB7XHJcbiAgICAgICAgICAgIGNsYXNzOiAnbmV3LXNlbGVjdF9fbGlzdCdcclxuICAgICAgICB9KS5pbnNlcnRBZnRlcihzZWxlY3RIZWFkKTtcclxuICAgIFxyXG4gICAgICAgIHZhciBzZWxlY3RMaXN0ID0gc2VsZWN0SGVhZC5uZXh0KCcubmV3LXNlbGVjdF9fbGlzdCcpO1xyXG4gICAgICAgICQoJzxkaXY+Jywge1xyXG4gICAgICAgICAgICBjbGFzczogJ25ldy1zZWxlY3RfX2l0ZW0gbmV3LXNlbGVjdF9faXRlbS0tYmFjayBqcy1jbG9zZWQtc2VsZWN0IHBhcmVudF9fYXJyb3cnLFxyXG4gICAgICAgICAgICBodG1sOiAkKCc8c3Bhbj4nLCB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBzZWxlY3RPcHRpb24uZXEoMCkuaHRtbCgpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignZGF0YS12YWx1ZScsIHNlbGVjdE9wdGlvbi5lcSgwKS52YWwoKSlcclxuICAgICAgICAuYXBwZW5kVG8oc2VsZWN0TGlzdCk7XHJcbiAgICAgICAgJChzZWxlY3RMaXN0KS5maW5kKCcubmV3LXNlbGVjdF9faXRlbS0tYmFjaycpLnByZXBlbmQocHJldlRleHRIdG1sKVxyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHNlbGVjdE9wdGlvbkxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICQoJzxkaXY+Jywge1xyXG4gICAgICAgICAgICAgICAgY2xhc3M6ICduZXctc2VsZWN0X19pdGVtJyxcclxuICAgICAgICAgICAgICAgIGh0bWw6ICQoJzxzcGFuPicsIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBzZWxlY3RPcHRpb24uZXEoaSkudGV4dCgpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cignZGF0YS12YWx1ZScsIHNlbGVjdE9wdGlvbi5lcShpKS52YWwoKSlcclxuICAgICAgICAgICAgLmFwcGVuZFRvKHNlbGVjdExpc3QpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHZhciBzZWxlY3RJdGVtID0gc2VsZWN0TGlzdC5maW5kKCcubmV3LXNlbGVjdF9faXRlbScpO1xyXG4gICAgICAgIHNlbGVjdEhlYWQub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmICggISQodGhpcykuaGFzQ2xhc3MoJ29uJykgKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0X29uID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIHNlbGVjdF9vbi5hZGRDbGFzcygnb24nKTtcclxuICAgICAgICAgICAgICAgIGlmKCQoZG9jdW1lbnQpLndpZHRoKCkgPCA4MDAgPyB0cnVlIDogZmFsc2Upe1xyXG4gICAgICAgICAgICAgICAgICAgICQoJ2JvZHksaGVhZCxodG1sJykuY3NzKCdvdmVyZmxvdy15JywnaGlkZGVuJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0SXRlbS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZigkKGRvY3VtZW50KS53aWR0aCgpIDwgODAwID8gdHJ1ZSA6IGZhbHNlKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnYm9keSxoZWFkLGh0bWwnKS5jc3MoJ292ZXJmbG93LXknLCdhdXRvJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCAhJCh0aGlzKS5oYXNDbGFzcygnbmV3LXNlbGVjdF9faXRlbS0tYmFjaycpICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hvb3NlSXRlbSA9ICQodGhpcykuZGF0YSgndmFsdWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcubmV3LXNlbGVjdF9fbGlzdCcpLmZpbmQoJy5uZXctc2VsZWN0X19pdGVtJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy5zZWxlY3QnKS5maW5kKCcubmV3LXNlbGVjdCcpLmFkZENsYXNzKCdzZWxlY3RlZCcpXHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ3NlbGVjdCcpLnZhbChjaG9vc2VJdGVtKS5hdHRyKCdzZWxlY3RlZCcsICdzZWxlY3RlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RIZWFkLmh0bWwocHJldlRleHRIdG1sKyAkKHRoaXMpLmZpbmQoJ3NwYW4nKS50ZXh0KCkgKTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0SGVhZC5yZW1vdmVDbGFzcygnb24nKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdF9vbi5yZW1vdmVDbGFzcygnb24nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnb24nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLmpzLW1hcGRhdGEnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICQoJy5qcy1tYXBkYXRhJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICB9KVxyXG4gICAgJCgnYm9keScpLm9uKCdjbGljaycsJy5yZW1vdmUnLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgLy8gYm94VmlzaWJsZS5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgICQoJy5qcy1tYXAtb2JqZWN0IC5tYXBsb2MnKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XHJcbiAgICB9KVxyXG4gIFxyXG59KTtcclxuXHJcbi8vINCi0LDQsdGLXHJcbmZ1bmN0aW9uIHRhYjJzKCl7XHJcbiAgICAkKCcuanMtdGFiX19vcGVuJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgcyA9IDMwMDtcclxuICAgICAgICBpZigkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSl7XHJcbiAgICAgICAgICAgIC8vICQoJy5qcy10YWJfX29wZW4nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIC8vICQoJy5qcy10YWJfX2NvbnRlbnQnKS5zbGlkZVVwKHMpXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICQoJy5qcy10YWJfX29wZW4nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAkKCcuanMtdGFiX19jb250ZW50Jykuc2xpZGVVcChzKVxyXG4gICAgICAgICAgICB2YXIgaWRfYnRuID0gJCh0aGlzKS5hdHRyKCdkYXRhLW1vbm9saXQtdGFicycpO1xyXG4gICAgICAgICAgICAkKCcuanMtdGFiX19jb250ZW50JykuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgaWYoJCh0aGlzKS5hdHRyKCdkYXRhLW1vbm9saXQtdGFicycpID09IGlkX2J0bil7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5zbGlkZURvd24ocyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufVxyXG50YWIycygpXHJcbiAgICBcclxudmFyIG15TWFwIFxyXG52YXIgYm94VmlzaWJsZVxyXG5mdW5jdGlvbiBtYXBzSW5pdCgpIHtcclxuICAgIC8vIGNvbnNvbGUubG9nKCfQl9Cw0L/Rg9GB0Log0LrQsNGA0YLRiycpO1xyXG4gICAgdmFyIHNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLW1hcC1mcmFtZScpO1xyXG4gICAgdmFyIGNvb3Jkc0pTID0gWzU1Ljc1Mzk5Mzk5OTk5Mzc0LDM3LjYyMjA5MzAwMDAwMDAxXTtcclxuICAgIG15TWFwID0gbmV3IHltYXBzLk1hcChzZWxlY3Rvciwge1xyXG4gICAgICAgIGNlbnRlcjogY29vcmRzSlMsXHJcbiAgICAgICAgY29udHJvbHM6IFsnem9vbUNvbnRyb2wnXSxcclxuICAgICAgICB6b29tOiAxMCxcclxuICAgICAgICAvLyBiZWhhdmlvcnM6IFsnZHJhZyddLFxyXG4gICAgfSwge1xyXG4gICAgICAgIHlhbmRleE1hcERpc2FibGVQb2lJbnRlcmFjdGl2aXR5OiB0cnVlLFxyXG4gICAgICAgIHN1cHByZXNzTWFwT3BlbkJsb2NrOiB0cnVlLFxyXG4gICAgfSk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhtYXBkYXRhKTtcclxuICBcclxuICAgIHZhciBib3hUZW1wbGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqcy1tYXAtdGVtcGxhdGVzJyk7XHJcbiAgICBib3hWaXNpYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLW1hcC1vYmplY3QnKTtcclxuICBcclxuICAgIHZhciBpY29uV2lkdGggPSAyMDtcclxuICAgIHZhciBpY29uSGVpZ2h0ID0gMjA7XHJcbiAgXHJcbiAgICAvLyBpZih3aW5kb3cuaW5uZXJXaWR0aCA8IDk5Mil7XHJcbiAgICAvLyAgIGljb25XaWR0aCA9IDIwO1xyXG4gICAgLy8gICBpY29uSGVpZ2h0ID0gMjA7XHJcbiAgICAvLyB9XHJcbiAgXHJcbiAgICB2YXIgZ2VvUG9seUdvbiA9IEpTT04ucGFyc2Uod2luZG93LmRlbGl2ZXJ5Wm9uZSk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhnZW9Qb2x5R29uKTtcclxuICBcclxuICAgIHZhciBteVBvbHlnb24gPSBuZXcgeW1hcHMuUG9seWdvbihbZ2VvUG9seUdvbl0sIHt9LCB7XHJcbiAgICAgIGZpbGxDb2xvcjogJ3JnYmEoNDIsIDQ1LCA1MCwgMC4xKScsXHJcbiAgICAgIHN0cm9rZVdpZHRoOiAzLFxyXG4gICAgICBzdHJva2VDb2xvcjogJyMwMDdCRkInLFxyXG4gICAgfSk7XHJcbiAgXHJcbiAgICBteU1hcC5nZW9PYmplY3RzLmFkZChteVBvbHlnb24pO1xyXG4gIFxyXG4gICAgbWFwZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGNvb3Jkcyl7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKGNvb3Jkcyk7XHJcbiAgICAgIGlmICggZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy1tYXBkYXRhXCIpICkge1xyXG4gICAgICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1tYXBkYXRhLWdyZWVuJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSl7XHJcbiAgICAgICAgICAgIGlmKGNvb3Jkcy5pc1Zpb2xldCA9PSB0cnVlKSByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1tYXBkYXRhLXB1cnB1cicpLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpe1xyXG4gICAgICAgICAgICBpZihjb29yZHMuaXNWaW9sZXQgPT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLW1hcGRhdGEtYWxsJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSl7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDQndCw0L/QvtC70L3Rj9C10Lwg0LHQsNGD0L3RgtCw0LzQuFxyXG4gICAgICB2YXIgbWFyayA9IG5ldyB5bWFwcy5QbGFjZW1hcmsoW2Nvb3Jkcy5sYXQsIGNvb3Jkcy5sbmddLCB7XHJcbiAgICAgICAgYmFsbG9vbkNvbnRlbnQ6IG51bGwsXHJcbiAgICAgICAgaWNvbkNhcHRpb246IG51bGwsXHJcbiAgICAgICAgYmxvY2tJZDogY29vcmRzLmlkLFxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgaWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLFxyXG4gICAgICAgIGljb25JbWFnZUhyZWY6IGNvb3Jkcy5pc1Zpb2xldCA/IG1hcG1hcmtlckFjdGl2ZSA6IG1hcG1hcmtlcixcclxuICAgICAgICBpY29uSW1hZ2VTaXplOiBbaWNvbldpZHRoLCBpY29uSGVpZ2h0XSxcclxuICAgICAgICBpY29uSW1hZ2VPZmZzZXQ6IFstKGljb25XaWR0aCAvIDIpLCAtaWNvbkhlaWdodF0sXHJcbiAgICAgICAgaGlkZUljb25PbkJhbGxvb25PcGVuOmZhbHNlLFxyXG4gICAgICB9KTtcclxuICBcclxuICAgICAgLy/QntCx0YDQsNCx0L7RgtC60LAg0LrQu9C40LrQsCDQvdCwINC80LDRgNC60LXRgFxyXG4gICAgICBtYXJrLmV2ZW50cy5hZGQoJ2NsaWNrJywgZnVuY3Rpb24oZSl7XHJcbiAgXHJcbiAgICAgICAgLy/QtNC10LvQsNC10Lwg0LjQutC+0L3QutC4INCy0YHQtdGFINC80LDQutGA0LrQtdGA0L7QsiDQv9C+INGD0LzQvtC70YfQsNC90LjRji5cclxuICAgICAgICBteU1hcC5nZW9PYmplY3RzLmVhY2goZnVuY3Rpb24oZWwpe1xyXG4gICAgICAgICAgZWwub3B0aW9ucy5zZXQoe1xyXG4gICAgICAgICAgICBpY29uSW1hZ2VTaXplOiBbaWNvbldpZHRoLCBpY29uSGVpZ2h0XSxcclxuICAgICAgICAgICAgaWNvbkltYWdlT2Zmc2V0OiBbLShpY29uV2lkdGggLyAyKSwgLWljb25IZWlnaHRdXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBib3hWaXNpYmxlLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgdmFyIG5lZWRJZCA9IGUuZ2V0KCd0YXJnZXQnKS5wcm9wZXJ0aWVzLmdldCgnYmxvY2tJZCcpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGUuZ2V0KCd0YXJnZXQnKS5vcHRpb25zLnNldCgndmlzaWJsZScsIGZhbHNlKTtcclxuICBcclxuICAgICAgICAvL9CU0LXQu9Cw0LXQvCDQuNC60L7QvdC60YMg0LDQutGC0LjQstC90L7Qs9C+INC80LDRgNC60LXRgNCwINC60YDQsNGB0L3QvtC5XHJcbiAgICAgICAgZS5nZXQoJ3RhcmdldCcpLm9wdGlvbnMuc2V0KHtcclxuICAgICAgICAgIGljb25JbWFnZVNpemU6IFtpY29uV2lkdGggKyA1LCBpY29uSGVpZ2h0ICsgNV0sXHJcbiAgICAgICAgICBpY29uSW1hZ2VPZmZzZXQ6IFstKChpY29uV2lkdGggKyA1KSAvIDIpLCAtKGljb25IZWlnaHQgKyA1KV0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIG5ld0JveCA9IGJveFRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLmpzLW1hcGxvYy0nK25lZWRJZCkuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgIGJveFZpc2libGUuYXBwZW5kKG5ld0JveCk7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgbmV3Qm94LmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xyXG4gICAgICAgICAgLy8gd2luZG93LmxpZ2h0Ym94LnJlbG9hZCgpO1xyXG4gICAgICAgIH0sIDApO1xyXG4gICAgICB9KTtcclxuICAgICAgLy8gLS0t0J3QsNC/0L7Qu9C90Y/QtdC8INCx0LDRg9C90YLQsNC80LhcclxuXHJcblxyXG4gICAgICBteU1hcC5nZW9PYmplY3RzLmFkZChtYXJrKTtcclxuICAgIH0pO1xyXG4gIFxyXG4gICAgLy8gbXlNYXAuc2V0Qm91bmRzKG15TWFwLmdlb09iamVjdHMuZ2V0Qm91bmRzKCkse2NoZWNrWm9vbVJhbmdlOnRydWUsIHpvb21NYXJnaW46WzEyMCwwLDAsMF19KTtcclxuICBcclxuICBcclxuICBcclxuICAgIGlmKHdpbmRvdy5pbm5lcldpZHRoID4gMTEwMCl7XHJcbiAgICAgIG15TWFwLmJlaGF2aW9ycy5kaXNhYmxlKFsncmlnaHRNb3VzZUJ1dHRvbk1hZ25pZmllcicsICdzY3JvbGxab29tJ10pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbXlNYXAuYmVoYXZpb3JzLmRpc2FibGUoWydyaWdodE1vdXNlQnV0dG9uTWFnbmlmaWVyJywgJ3Njcm9sbFpvb20nXSk7XHJcbiAgICAgICAgLy8gbGV0IG5ld2Nvb3JkID0gbXlNYXAuZ2V0R2xvYmFsUGl4ZWxDZW50ZXIoKTtcclxuICAgICAgICAvLyBuZXdjb29yZFsxXSAtPSAyMDtcclxuICAgICAgICAvLyBteU1hcC5zZXRHbG9iYWxQaXhlbENlbnRlcihuZXdjb29yZCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBsb2FkWWFtYXBzKCkge1xyXG4gIHZhciBzZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1tYXAtZnJhbWUnKTtcclxuICBpZiAoIXNlbGVjdG9yKSByZXR1cm47XHJcbiAgdmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcclxuICB3aW5kb3cubWFwc0luaXQgPSBtYXBzSW5pdDtcclxuICBlbGVtLmNsYXNzTmFtZSA9IFwianMtcmVsb2FkLXJlbW92ZVwiO1xyXG4gIGVsZW0uc3JjID0gJ2h0dHBzOi8vYXBpLW1hcHMueWFuZGV4LnJ1LzIuMS8/bG9hZD1wYWNrYWdlLm1hcCZsYW5nPXJ1LVJVJm9ubG9hZD1tYXBzSW5pdCc7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXS5hcHBlbmRDaGlsZChlbGVtKTtcclxufVxyXG5sb2FkWWFtYXBzKClcclxuXHJcbmZ1bmN0aW9uIHJlbG9hZFlhbWFwcygpe1xyXG4gICAgY29uc29sZS5sb2coMSk7XHJcbiAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtYWN0aXZlLW1hcF9pdGVtcycpLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKDIpO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgbXlNYXAuZGVzdHJveSgpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1yZWxvYWQtcmVtb3ZlJykucmVtb3ZlKCk7XHJcbiAgICAgICAgbG9hZFlhbWFwcygpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKDMpO1xyXG4gICAgfVxyXG59XHJcblxyXG4kKCcuanMtYWN0aXZlLW1hcCcpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICByZWxvYWRZYW1hcHMoKVxyXG59KSJdfQ==

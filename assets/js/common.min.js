function tab2s(){$(".js-tab__open").click(function(){if($(this).hasClass("active"));else{$(".js-tab__open").removeClass("active"),$(this).addClass("active"),$(".js-tab__content").slideUp(300);var e=$(this).attr("data-monolit-tabs");$(".js-tab__content").each(function(){$(this).attr("data-monolit-tabs")==e&&$(this).slideDown(300)})}})}var myMap,boxVisible;function mapsInit(){var e=document.querySelector(".js-map-frame");myMap=new ymaps.Map(e,{center:[55.75399399999374,37.62209300000001],controls:["zoomControl"],zoom:10},{yandexMapDisablePoiInteractivity:!0,suppressMapOpenBlock:!0});var s=document.getElementById("js-map-templates");boxVisible=document.querySelector(".js-map-object");var i=20,n=20,t=JSON.parse(window.deliveryZone),a=new ymaps.Polygon([t],{},{fillColor:"rgba(42, 45, 50, 0.1)",strokeWidth:3,strokeColor:"#007BFB"});myMap.geoObjects.add(a),mapdata.forEach(function(e){if(document.querySelector(".js-mapdata")){if(document.querySelector(".js-mapdata-green").classList.contains("active")&&1==e.isViolet)return;if(document.querySelector(".js-mapdata-purpur").classList.contains("active")&&0==e.isViolet)return;document.querySelector(".js-mapdata-all").classList.contains("active")}var t=new ymaps.Placemark([e.lat,e.lng],{balloonContent:null,iconCaption:null,blockId:e.id},{iconLayout:"default#image",iconImageHref:e.isViolet?mapmarkerActive:mapmarker,iconImageSize:[i,n],iconImageOffset:[-10,-n],hideIconOnBalloonOpen:!1});t.events.add("click",function(e){myMap.geoObjects.each(function(e){e.options.set({iconImageSize:[i,n],iconImageOffset:[-10,-n]})}),boxVisible.innerHTML="";var t=e.get("target").properties.get("blockId");e.get("target").options.set({iconImageSize:[25,25],iconImageOffset:[-12.5,-25]});var a=s.content.querySelector(".js-maploc-"+t).cloneNode(!0);boxVisible.append(a),setTimeout(function(){a.classList.add("is-active")},0)}),myMap.geoObjects.add(t)}),window.innerWidth,myMap.behaviors.disable(["rightMouseButtonMagnifier","scrollZoom"])}function loadYamaps(){if(document.querySelector(".js-map-frame")){var e=document.createElement("script");window.mapsInit=mapsInit,e.className="js-reload-remove",e.src="https://api-maps.yandex.ru/2.1/?load=package.map&lang=ru-RU&onload=mapsInit",document.getElementsByTagName("body")[0].appendChild(e)}}function reloadYamaps(){console.log(1),document.querySelector(".js-active-map_items").classList.contains("active")?console.log(2):(myMap.destroy(),document.querySelector(".js-reload-remove").remove(),loadYamaps(),console.log(3))}$(function(){var e;if($(".js-modal_btn_close,.js-modal_close,.js-close_btn,.js-btnCloseModal").click(function(){$(".js-modal_window").fadeOut(),$(".js-menu-item").removeClass("active"),$("body,head,html").css("overflow-x","hidden"),$("body,head,html").css("overflow-y","auto"),$(".menu-item-close").removeClass("active"),$(".menu-item-close").removeClass("menu-item-close--white")}),$(".js-open_modal").click(function(){var e=$(this).attr("data-monolit-modal");$(".js-modal_window").each(function(){$(this).attr("data-monolit-modal")==e&&($("body,head,html").css("overflow","hidden"),$(this).fadeIn(),$(".menu-item-close").addClass("active"),$(".menu-item-close").addClass("menu-item-close--white"))})}),$(".js-close_menu").click(function(){$("[data-click-state='0']").attr("data-click-state","1"),$(this).removeClass("active"),$(".js-menu-item").removeClass("menu-active"),$(".js-modal_window").fadeOut(),$(".menu-item-close").removeClass("active"),$("body,head,html").css("overflow-x","hidden"),$("body,head,html").css("overflow-y","auto"),$(".menu-item-close").removeClass("menu-item-close--white")}),$(".js-open_menu").click(function(){if(1==$(this).attr("data-click-state")){$(this).attr("data-click-state",0),$(this).addClass("active");var e=$(this).attr("data-monolit-menu");$(".js-menu-item").each(function(){$(this).attr("data-monolit-menu")==e&&($(this).addClass("menu-active"),$(".menu-item-close").addClass("active"),$("body,head,html").css("overflow","hidden"),$(".menu-item-close").removeClass("menu-item-close--white"))})}else $(this).attr("data-click-state",1),$(this).addClass("open-block"),$(this).removeClass("active"),$(".js-menu-item").removeClass("menu-active"),$(".js-modal_window").fadeOut(),$(".menu-item-close").removeClass("active"),$("body,head,html").css("overflow-x","hidden"),$("body,head,html").css("overflow-y","auto"),$(".menu-item-close").removeClass("menu-item-close--white")}),$(".js-scale__open, .js-scale__if").click(function(){var e=$(this);if(e.hasClass("active"));else{$(".js-scale__open").removeClass("active"),e.addClass("active"),$(".js-scale__content").fadeOut(0);var t=$(".js-scale__open.active").attr("data-monolit-scale");if("all"==t)return void $(".js-scale__content").fadeIn(0);$(".js-scale__content").each(function(){$(this).attr("data-monolit-scale")==t&&$(this).fadeIn(0)})}}),window.onscroll=function(){1<(e=window.pageYOffset||document.documentElement.scrollTop)&&$(".header").addClass("scroll"),e<1&&$(".header").removeClass("scroll")},$(".fancybox-media,.content_wp a:has(img)").fancybox({openEffect:"none",closeEffect:"none",maxWidth:"100%",maxHeight:"auto",padding:0,margin:0,helpers:{media:{youtube:{params:{theme:"light",vq:"hd720",css:{body:"color: #fff"}}}}}}),$(".js-open-close").click(function(){1==$(this).parents(".js-open-close-item").attr("data-click-state")?($(this).parents(".js-open-close-item").attr("data-click-state",0),$(this).parents(".js-open-close-item").removeClass("active"),$(this).parents(".js-open-close-item").find(".js-item__desc").slideUp(),$(this).find(".btn-open-close__text").html($(this).attr("data-open-text"))):($(this).parents(".js-open-close-item").attr("data-click-state",1),$(this).parents(".js-open-close-item").addClass("active"),$(this).parents(".js-open-close-item").find(".js-item__desc").slideDown(),$(this).find(".btn-open-close__text").html($(this).attr("data-close-text")))}),0<$(".carousel-init--hero").length)new Swiper(".carousel-init--hero",{spaceBetween:0,grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",loop:!0,fade:!0,effect:"fade",fadeEffect:{crossFade:!0},virtualTranslate:!0,slidesPerGroup:1,autoHeight:!0,navigation:{nextEl:".slick-m-next--hero",prevEl:".slick-m-prev--hero"},pagination:{el:".slick-dots--hero",type:"bullets"}});if(0<$(".carousel-init--services").length)new Swiper(".carousel-init--services",{autoHeight:!0,loop:!1,spaceBetween:10,slidesPerView:"auto",centeredSlides:!1,navigation:{nextEl:".slick-m-next--services",prevEl:".slick-m-prev--services"},breakpoints:{0:{spaceBetween:10},800:{spaceBetween:10}}});if(0<$(".carousel-init--discount").length)new Swiper(".carousel-init--discount",{autoHeight:!0,loop:!1,spaceBetween:40,slidesPerView:2,centeredSlides:!1,navigation:{nextEl:".slick-m-next--discount",prevEl:".slick-m-prev--discount"},breakpoints:{0:{slidesPerView:1},800:{slidesPerView:2}},pagination:{el:".slick-dots--discount",type:"bullets"}});if(0<$(".carousel-init--reviews").length)new Swiper(".carousel-init--reviews",{autoHeight:!0,loop:!1,spaceBetween:40,slidesPerView:2,centeredSlides:!1,navigation:{nextEl:".slick-m-next--reviews",prevEl:".slick-m-prev--reviews"},breakpoints:{0:{slidesPerView:1},1140:{slidesPerView:2}},pagination:{el:".slick-dots--reviews",type:"bullets"}});function t(e,t){e.addClass("carousel-init carousel-init--"+t+" swiper-container"),e.find(">*").each(function(){$(this).wrap('<div class="swiper-slide carousel-item"></div>')}),e.wrapInner('<div class="swiper-wrapper"></div>')}if($(document).width()<1140&&($(".hero__item__right").appendTo($(".hero")),$(".menu li.menu__item--back").each(function(){$(this).find("a").first().addClass("parent__arrow"),$(this).find("a").first().removeAttr("href")}),$(".menu__item").on("click",".parent",function(){$(this).addClass("active__child")}),$(".menu__item--back").click(function(){$(this).parent("ul").parent("li").find(".parent").removeClass("active__child")})),$(document).width()<800){if($(".cat-list__item--big").wrapAll('<div class="cat-list__item__group">'),$(".js-mob-cat-all__filter-item").appendTo($(".cat-all__filter--mob")),t($(".cat-list__items"),"cart_list"),0<$(".carousel-init--cart_list").length)new Swiper(".carousel-init--cart_list",{autoHeight:!0,loop:!0,spaceBetween:10,slidesPerView:"auto",centeredSlides:!1});if(t($(".map__button__left--mob-slider"),"map__button__left"),0<$(".carousel-init--map__button__left").length)new Swiper(".carousel-init--map__button__left",{autoHeight:!1,loop:!1,spaceBetween:10,slidesPerView:"auto",centeredSlides:!1});$(".menu li").each(function(){0<$(this).find("ul").length&&($(this).find("a").first().addClass("parent parent__arrow"),$(this).find("a").first().removeAttr("href"))})}if(801<$(document).width()&&$(".menu li").each(function(){0<$(this).find("ul").length&&$(this).find("a").first().addClass("parent parent__arrow")}),$(document).width()<1140&&(t($(".cat-all__tabs"),"cat-all__tabs"),0<$(".carousel-init--cat-all__tabs").length))new Swiper(".carousel-init--cat-all__tabs",{autoHeight:!0,loop:!1,spaceBetween:10,slidesPerView:"auto",centeredSlides:!1});var a=window.location.href;$("ul li").each(function(){var e=$(this).find("a").first().attr("href");a==e&&($(this).addClass("active"),$(this).find("a").first().removeAttr("href"),$(this).parents("li").addClass("active"))}),$(".burger").on("click",function(){1==$(this).attr("data-click-state")?$(this).attr("data-click-state",0):$(this).attr("data-click-state",1),$(this).parents(".header").toggleClass("active")}),800<$(document).width()&&($(".page__content-wrapper").theiaStickySidebar({additionalMarginTop:120,additionalMarginBottom:0}),$(".page__sidebar-wrapper").theiaStickySidebar({additionalMarginTop:120,additionalMarginBottom:0})),$('.scroll[href^="#"]').click(function(){return $("html, body").animate({scrollTop:$($(this).attr("href")).offset().top},{duration:600,easing:"swing"}),!1}),$(".quantity_inner .bt_minus").click(function(){var e=$(this).parent().find(".quantity"),t=(e.attr("data-sep"),parseInt(e.val())-1);t=t<1?1:t,e.val(t),e.attr("data-count",parseInt(t))}),$(".quantity_inner .bt_plus").click(function(){var e=$(this).parent().find(".quantity"),t=(e.attr("data-sep"),parseInt(e.val())+1);t=t>parseInt(e.data("max-count"))?parseInt(e.data("max-count")):t,e.val(parseInt(t)),e.attr("data-count",parseInt(t))}),$(".quantity_inner .quantity").bind("change keyupel_input click",function(){this.value.match(/[^0-9]/g)&&(this.value=this.value.replace(/[^0-9]/g,"")),""==this.value&&(this.value=1),this.value>parseInt($(this).data("max-count"))&&(this.value=parseInt($(this).data("max-count")))}),tippy(".tippy-message",{animation:"fade",theme:"light",allowHTML:!0,interactive:!0,content:function(e){return $(e).find(".js-tippycont").html()}}),$(".js-tel").inputmask({mask:"+7 (999) 999-99-99",greedy:!0,clearMaskOnLostFocus:!0,clearIncomplete:!0}),$(".js-select").each(function(){var e=$(this),t=e.find("option"),a=t.length,s=(t.filter(":selected"),'<span class="select-prev">'+e.attr("data-prev")+" </span>");e.hide(),e.wrap('<div class="select"></div>'),$("<div>",{class:"new-select",text:e.children("option:disabled").text()}).insertAfter(e);var i=e.next(".new-select");$("<div>",{class:"new-select__list"}).insertAfter(i);var n=i.next(".new-select__list");$("<div>",{class:"new-select__item new-select__item--back js-closed-select parent__arrow",html:$("<span>",{text:t.eq(0).html()})}).attr("data-value",t.eq(0).val()).appendTo(n),$(n).find(".new-select__item--back").prepend(s);for(var o=1;o<a;o++)$("<div>",{class:"new-select__item",html:$("<span>",{text:t.eq(o).text()})}).attr("data-value",t.eq(o).val()).appendTo(n);var l=n.find(".new-select__item");i.on("click",function(){if($(this).hasClass("on"))$(this).removeClass("on");else{var t=$(this);t.addClass("on"),$(document).width()<800&&$("body,head,html").css("overflow-y","hidden"),l.on("click",function(){if($(document).width()<800&&$("body,head,html").css("overflow-y","auto"),$(this).hasClass("new-select__item--back"))t.removeClass("on");else{var e=$(this).data("value");$(this).parents(".new-select__list").find(".new-select__item").removeClass("active"),$(this).addClass("active"),$(this).parents(".select").find(".new-select").addClass("selected"),$("select").val(e).attr("selected","selected"),i.html(s+$(this).find("span").text()),i.removeClass("on")}})}})}),$(document).mouseup(function(e){var t=$(".select");t.is(e.target)||0!==t.has(e.target).length||$(".new-select").removeClass("on")}),$(".js-mapdata").click(function(){$(".js-mapdata").removeClass("active"),$(this).addClass("active")}),$("body").on("click",".remove",function(){$(".js-map-object .maploc").removeClass("is-active")})}),tab2s(),loadYamaps(),$(".js-active-map").click(function(){reloadYamaps()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvb3Rlci9mb290ZXIuanMiXSwibmFtZXMiOlsidGFiMnMiLCIkIiwiY2xpY2siLCJ0aGlzIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwic2xpZGVVcCIsImlkX2J0biIsImF0dHIiLCJlYWNoIiwic2xpZGVEb3duIiwibXlNYXAiLCJib3hWaXNpYmxlIiwibWFwc0luaXQiLCJzZWxlY3RvciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInltYXBzIiwiTWFwIiwiY2VudGVyIiwiY29udHJvbHMiLCJ6b29tIiwieWFuZGV4TWFwRGlzYWJsZVBvaUludGVyYWN0aXZpdHkiLCJzdXBwcmVzc01hcE9wZW5CbG9jayIsImJveFRlbXBsYXRlIiwiZ2V0RWxlbWVudEJ5SWQiLCJpY29uV2lkdGgiLCJpY29uSGVpZ2h0IiwiZ2VvUG9seUdvbiIsIkpTT04iLCJwYXJzZSIsIndpbmRvdyIsImRlbGl2ZXJ5Wm9uZSIsIm15UG9seWdvbiIsIlBvbHlnb24iLCJmaWxsQ29sb3IiLCJzdHJva2VXaWR0aCIsInN0cm9rZUNvbG9yIiwiZ2VvT2JqZWN0cyIsImFkZCIsIm1hcGRhdGEiLCJmb3JFYWNoIiwiY29vcmRzIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJpc1Zpb2xldCIsIm1hcmsiLCJQbGFjZW1hcmsiLCJsYXQiLCJsbmciLCJiYWxsb29uQ29udGVudCIsImljb25DYXB0aW9uIiwiYmxvY2tJZCIsImlkIiwiaWNvbkxheW91dCIsImljb25JbWFnZUhyZWYiLCJtYXBtYXJrZXJBY3RpdmUiLCJtYXBtYXJrZXIiLCJpY29uSW1hZ2VTaXplIiwiaWNvbkltYWdlT2Zmc2V0IiwiaGlkZUljb25PbkJhbGxvb25PcGVuIiwiZXZlbnRzIiwiZSIsImVsIiwib3B0aW9ucyIsInNldCIsImlubmVySFRNTCIsIm5lZWRJZCIsImdldCIsInByb3BlcnRpZXMiLCJuZXdCb3giLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiYXBwZW5kIiwic2V0VGltZW91dCIsImlubmVyV2lkdGgiLCJiZWhhdmlvcnMiLCJkaXNhYmxlIiwibG9hZFlhbWFwcyIsImVsZW0iLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwic3JjIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJhcHBlbmRDaGlsZCIsInJlbG9hZFlhbWFwcyIsImNvbnNvbGUiLCJsb2ciLCJkZXN0cm95IiwicmVtb3ZlIiwic2Nyb2xsZWQiLCJmYWRlT3V0IiwiY3NzIiwiZmFkZUluIiwib25zY3JvbGwiLCJwYWdlWU9mZnNldCIsImRvY3VtZW50RWxlbWVudCIsInNjcm9sbFRvcCIsImZhbmN5Ym94Iiwib3BlbkVmZmVjdCIsImNsb3NlRWZmZWN0IiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJwYWRkaW5nIiwibWFyZ2luIiwiaGVscGVycyIsIm1lZGlhIiwieW91dHViZSIsInBhcmFtcyIsInRoZW1lIiwidnEiLCJib2R5IiwicGFyZW50cyIsImZpbmQiLCJodG1sIiwibGVuZ3RoIiwiU3dpcGVyIiwic3BhY2VCZXR3ZWVuIiwiZ3JhYkN1cnNvciIsImNlbnRlcmVkU2xpZGVzIiwic2xpZGVzUGVyVmlldyIsImxvb3AiLCJmYWRlIiwiZWZmZWN0IiwiZmFkZUVmZmVjdCIsImNyb3NzRmFkZSIsInZpcnR1YWxUcmFuc2xhdGUiLCJzbGlkZXNQZXJHcm91cCIsImF1dG9IZWlnaHQiLCJuYXZpZ2F0aW9uIiwibmV4dEVsIiwicHJldkVsIiwicGFnaW5hdGlvbiIsInR5cGUiLCJicmVha3BvaW50cyIsIjAiLCI4MDAiLCIxMTQwIiwic3dpcGVyX2h0bWwiLCJuYW1lIiwid3JhcCIsIndyYXBJbm5lciIsIndpZHRoIiwiYXBwZW5kVG8iLCJmaXJzdCIsInJlbW92ZUF0dHIiLCJvbiIsInBhcmVudCIsIndyYXBBbGwiLCJjdXJfdXJsX20iLCJsb2NhdGlvbiIsImhyZWYiLCJsaW5rX20iLCJ0b2dnbGVDbGFzcyIsInRoZWlhU3RpY2t5U2lkZWJhciIsImFkZGl0aW9uYWxNYXJnaW5Ub3AiLCJhZGRpdGlvbmFsTWFyZ2luQm90dG9tIiwiYW5pbWF0ZSIsIm9mZnNldCIsInRvcCIsImR1cmF0aW9uIiwiZWFzaW5nIiwiZWxfaW5wdXQiLCJjb3VudCIsInBhcnNlSW50IiwidmFsIiwiZGF0YSIsImJpbmQiLCJ2YWx1ZSIsIm1hdGNoIiwicmVwbGFjZSIsInRpcHB5IiwiYW5pbWF0aW9uIiwiYWxsb3dIVE1MIiwiaW50ZXJhY3RpdmUiLCJmIiwiaW5wdXRtYXNrIiwibWFzayIsImdyZWVkeSIsImNsZWFyTWFza09uTG9zdEZvY3VzIiwiY2xlYXJJbmNvbXBsZXRlIiwiX3RoaXMiLCJzZWxlY3RPcHRpb24iLCJzZWxlY3RPcHRpb25MZW5ndGgiLCJwcmV2VGV4dEh0bWwiLCJmaWx0ZXIiLCJoaWRlIiwiY2xhc3MiLCJ0ZXh0IiwiY2hpbGRyZW4iLCJpbnNlcnRBZnRlciIsInNlbGVjdEhlYWQiLCJuZXh0Iiwic2VsZWN0TGlzdCIsImVxIiwicHJlcGVuZCIsImkiLCJzZWxlY3RJdGVtIiwic2VsZWN0X29uIiwiY2hvb3NlSXRlbSIsIm1vdXNldXAiLCJkaXYiLCJpcyIsInRhcmdldCIsImhhcyJdLCJtYXBwaW5ncyI6IkFBcW5CQSxTQUFBQSxRQUNBQyxFQUFBLGlCQUFBQyxNQUFBLFdBRUEsR0FBQUQsRUFBQUUsTUFBQUMsU0FBQSxlQUdBLENBQ0FILEVBQUEsaUJBQUFJLFlBQUEsVUFDQUosRUFBQUUsTUFBQUcsU0FBQSxVQUNBTCxFQUFBLG9CQUFBTSxRQVBBLEtBUUEsSUFBQUMsRUFBQVAsRUFBQUUsTUFBQU0sS0FBQSxxQkFDQVIsRUFBQSxvQkFBQVMsS0FBQSxXQUNBVCxFQUFBRSxNQUFBTSxLQUFBLHNCQUFBRCxHQUNBUCxFQUFBRSxNQUFBUSxVQVhBLFVBbUJBLElBQUFDLE1BQ0FDLFdBQ0EsU0FBQUMsV0FFQSxJQUFBQyxFQUFBQyxTQUFBQyxjQUFBLGlCQUVBTCxNQUFBLElBQUFNLE1BQUFDLElBQUFKLEVBQUEsQ0FDQUssT0FGQSxDQUFBLGtCQUFBLG1CQUdBQyxTQUFBLENBQUEsZUFDQUMsS0FBQSxJ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LyAkLnBpeGxheW91dCh7XHJcblx0Ly8gXHRzcmM6IFwiL2FwcC5wbmdcIiwgXHJcblx0Ly8gXHRvcGFjaXR5OiAwLjMsXHJcbiAgICAvLyAgICAgdG9wOiAwLFxyXG4gICAgLy8gICAgIGNlbnRlcjogdHJ1ZSxcclxuICAgIC8vICAgICBsZWZ0OiAyNTIsXHJcbiAgICAvLyAgICAgcmlnaHQ6IDI1OCxcclxuXHQvLyBcdHBlcnZpb3VzOiB0cnVlLFxyXG5cdC8vIFx0Y2xpcDogZmFsc2UsXHJcblx0Ly8gXHRzaG93OiB0cnVlXHJcbiAgICAvLyB9LCBcImJvZHlcIik7XHJcbiAgICBcclxuICAgIC8vINCc0L7QtNCw0LvRjNC90YvQtSDQvtC60L3QsFxyXG4gICAgZnVuY3Rpb24gbW9kYWwoKXtcclxuICAgICAgICAkKCcuanMtbW9kYWxfYnRuX2Nsb3NlLC5qcy1tb2RhbF9jbG9zZSwuanMtY2xvc2VfYnRuLC5qcy1idG5DbG9zZU1vZGFsJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgJCgnLmpzLW1vZGFsX3dpbmRvdycpLmZhZGVPdXQoKTtcclxuICAgICAgICAgICAgJCgnLmpzLW1lbnUtaXRlbScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgJCgnYm9keSxoZWFkLGh0bWwnKS5jc3MoJ292ZXJmbG93LXgnLCdoaWRkZW4nKVxyXG4gICAgICAgICAgICAkKCdib2R5LGhlYWQsaHRtbCcpLmNzcygnb3ZlcmZsb3cteScsJ2F1dG8nKVxyXG4gICAgICAgICAgICAkKCcubWVudS1pdGVtLWNsb3NlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICQoJy5tZW51LWl0ZW0tY2xvc2UnKS5yZW1vdmVDbGFzcygnbWVudS1pdGVtLWNsb3NlLS13aGl0ZScpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCgnLmpzLW9wZW5fbW9kYWwnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgaWRfYnRuID0gJCh0aGlzKS5hdHRyKCdkYXRhLW1vbm9saXQtbW9kYWwnKTtcclxuICAgICAgICAgICAgJCgnLmpzLW1vZGFsX3dpbmRvdycpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGlmKCQodGhpcykuYXR0cignZGF0YS1tb25vbGl0LW1vZGFsJykgPT0gaWRfYnRuKXtcclxuICAgICAgICAgICAgICAgICAgICAkKCdib2R5LGhlYWQsaHRtbCcpLmNzcygnb3ZlcmZsb3cnLCdoaWRkZW4nKVxyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuZmFkZUluKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLm1lbnUtaXRlbS1jbG9zZScpLmFkZENsYXNzKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgICAgICQoJy5tZW51LWl0ZW0tY2xvc2UnKS5hZGRDbGFzcygnbWVudS1pdGVtLWNsb3NlLS13aGl0ZScpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIG1vZGFsKClcclxuXHJcbiAgICAvLyDQnNC+0LTQsNC70YzQvdGL0LUg0L7QutC90LAgbWVudVxyXG4gICAgZnVuY3Rpb24gbWVudSgpe1xyXG4gICAgICAgICQoJy5qcy1jbG9zZV9tZW51JykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgJChcIltkYXRhLWNsaWNrLXN0YXRlPScwJ11cIikuYXR0cignZGF0YS1jbGljay1zdGF0ZScsJzEnKVxyXG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgJCgnLmpzLW1lbnUtaXRlbScpLnJlbW92ZUNsYXNzKCdtZW51LWFjdGl2ZScpO1xyXG4gICAgICAgICAgICAkKCcuanMtbW9kYWxfd2luZG93JykuZmFkZU91dCgpO1xyXG4gICAgICAgICAgICAkKCcubWVudS1pdGVtLWNsb3NlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICQoJ2JvZHksaGVhZCxodG1sJykuY3NzKCdvdmVyZmxvdy14JywnaGlkZGVuJylcclxuICAgICAgICAgICAgJCgnYm9keSxoZWFkLGh0bWwnKS5jc3MoJ292ZXJmbG93LXknLCdhdXRvJylcclxuICAgICAgICAgICAgJCgnLm1lbnUtaXRlbS1jbG9zZScpLnJlbW92ZUNsYXNzKCdtZW51LWl0ZW0tY2xvc2UtLXdoaXRlJylcclxuICAgICAgICB9KVxyXG4gICAgICAgICQoJy5qcy1vcGVuX21lbnUnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBpZigkKHRoaXMpLmF0dHIoJ2RhdGEtY2xpY2stc3RhdGUnKSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtY2xpY2stc3RhdGUnLCAwKVxyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaWRfYnRuID0gJCh0aGlzKS5hdHRyKCdkYXRhLW1vbm9saXQtbWVudScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmpzLW1lbnUtaXRlbScpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICBpZigkKHRoaXMpLmF0dHIoJ2RhdGEtbW9ub2xpdC1tZW51JykgPT0gaWRfYnRuKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnbWVudS1hY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm1lbnUtaXRlbS1jbG9zZScpLmFkZENsYXNzKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCdib2R5LGhlYWQsaHRtbCcpLmNzcygnb3ZlcmZsb3cnLCdoaWRkZW4nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcubWVudS1pdGVtLWNsb3NlJykucmVtb3ZlQ2xhc3MoJ21lbnUtaXRlbS1jbG9zZS0td2hpdGUnKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtY2xpY2stc3RhdGUnLCAxKVxyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnb3Blbi1ibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcuanMtbWVudS1pdGVtJykucmVtb3ZlQ2xhc3MoJ21lbnUtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcuanMtbW9kYWxfd2luZG93JykuZmFkZU91dCgpO1xyXG4gICAgICAgICAgICAgICAgJCgnLm1lbnUtaXRlbS1jbG9zZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgJCgnYm9keSxoZWFkLGh0bWwnKS5jc3MoJ292ZXJmbG93LXgnLCdoaWRkZW4nKVxyXG4gICAgICAgICAgICAgICAgJCgnYm9keSxoZWFkLGh0bWwnKS5jc3MoJ292ZXJmbG93LXknLCdhdXRvJylcclxuICAgICAgICAgICAgICAgICQoJy5tZW51LWl0ZW0tY2xvc2UnKS5yZW1vdmVDbGFzcygnbWVudS1pdGVtLWNsb3NlLS13aGl0ZScpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgbWVudSgpXHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIG1hcF9pdGVtcygpe1xyXG4gICAgICAgICQoJy5qcy1zY2FsZV9fb3BlbiwgLmpzLXNjYWxlX19pZicpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgZWwgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHMgPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYoZWwuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5qcy1zY2FsZV9fb3BlbicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICBlbC5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmpzLXNjYWxlX19jb250ZW50JykuZmFkZU91dChzKVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpZF9idG4gPSAkKCcuanMtc2NhbGVfX29wZW4uYWN0aXZlJykuYXR0cignZGF0YS1tb25vbGl0LXNjYWxlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaWRfYnRuID09ICdhbGwnKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmpzLXNjYWxlX19jb250ZW50JykuZmFkZUluKHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICQoJy5qcy1zY2FsZV9fY29udGVudCcpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoJCh0aGlzKS5hdHRyKCdkYXRhLW1vbm9saXQtc2NhbGUnKSA9PSBpZF9idG4pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5mYWRlSW4ocyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBtYXBfaXRlbXMoKVxyXG4gICAgLy8gZnVuY3Rpb24gdGFiMnNDYXRhbG9nKCl7XHJcbiAgICAvLyAgICAgJCgnLmpzLXRhYl9fb3Blbi1jYXRhbG9nJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgIC8vICAgICAgICAgdmFyIHMgPSAwO1xyXG4gICAgLy8gICAgICAgICBpZigkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSl7XHJcbiAgICAvLyAgICAgICAgICAgICAkKCcuanMtdGFiX19vcGVuLWNhdGFsb2cnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAvLyAgICAgICAgICAgICAkKCcuanMtdGFiX19jb250ZW50Jykuc2xpZGVVcChzKVxyXG4gICAgLy8gICAgICAgICB9ZWxzZXtcclxuICAgIC8vICAgICAgICAgICAgICQoJy5qcy10YWJfX29wZW4tY2F0YWxvZycpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgIC8vICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgLy8gICAgICAgICAgICAgJCgnLmpzLXRhYl9fY29udGVudC1jYXRhbG9nJykuc2xpZGVVcChzKVxyXG4gICAgLy8gICAgICAgICAgICAgdmFyIGlkX2J0biA9ICQodGhpcykuYXR0cignZGF0YS1tb25vbGl0LXRhYnMtY2F0YWxvZycpO1xyXG4gICAgLy8gICAgICAgICAgICAgJCgnLmpzLXRhYl9fY29udGVudC1jYXRhbG9nJykuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGlmKCQodGhpcykuYXR0cignZGF0YS1tb25vbGl0LXRhYnMtY2F0YWxvZycpID09IGlkX2J0bil7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICQodGhpcykuc2xpZGVEb3duKHMpO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgIH0pXHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9KVxyXG4gICAgLy8gfVxyXG4gICAgLy8gdGFiMnNDYXRhbG9nKClcclxuXHJcbiAgICAvLyDQodC60YDQvtC70Lsg0YjQsNC/0LrQuFxyXG4gICAgdmFyIHNjcm9sbGVkO1xyXG4gICAgd2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2Nyb2xsZWQgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcclxuICAgICAgICBpZihzY3JvbGxlZCA+IDEpe1xyXG4gICAgICAgICAgICAkKFwiLmhlYWRlclwiKS5hZGRDbGFzcygnc2Nyb2xsJylcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoMSA+IHNjcm9sbGVkKXtcclxuICAgICAgICAgICAgJChcIi5oZWFkZXJcIikucmVtb3ZlQ2xhc3MoJ3Njcm9sbCcpXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyDQo9Cy0LXQu9C40YfQtdC90LjQtSDQutCw0YDRgtC40L3QvtC6XHJcbiAgICAkKCcuZmFuY3lib3gtbWVkaWEsLmNvbnRlbnRfd3AgYTpoYXMoaW1nKScpLmZhbmN5Ym94KHtcclxuICAgICAgICBvcGVuRWZmZWN0ICA6ICdub25lJyxcclxuICAgICAgICBjbG9zZUVmZmVjdCA6ICdub25lJyxcclxuICAgICAgICAgICAgbWF4V2lkdGggICAgOiAnMTAwJScsXHJcbiAgICAgICAgICAgIG1heEhlaWdodCAgIDogJ2F1dG8nLCAgXHJcbiAgICAgICAgICAgIHBhZGRpbmcgICAgIDogMCxcclxuICAgICAgICAgICAgbWFyZ2luICAgICAgOiAwLCAgICAgICAgICAgXHJcbiAgICAgICAgaGVscGVycyA6IHtcclxuICAgICAgICAgIG1lZGlhIDoge1xyXG4gICAgICAgICAgICAgIHlvdXR1YmUgOiB7XHJcbiAgICAgICAgICAgICAgICAgICBwYXJhbXMgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgdGhlbWUgOiAnbGlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZxICAgIDogJ2hkNzIwJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3MgICA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYm9keScgOiAnY29sb3I6ICNmZmYnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vINGB0LrRgNGL0YLRi9C5INGC0LXQutGB0YJcclxuICAgICQoJy5qcy1vcGVuLWNsb3NlJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICBpZigkKHRoaXMpLnBhcmVudHMoJy5qcy1vcGVuLWNsb3NlLWl0ZW0nKS5hdHRyKCdkYXRhLWNsaWNrLXN0YXRlJykgPT0gMSkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy5qcy1vcGVuLWNsb3NlLWl0ZW0nKS5hdHRyKCdkYXRhLWNsaWNrLXN0YXRlJywgMClcclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuanMtb3Blbi1jbG9zZS1pdGVtJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy5qcy1vcGVuLWNsb3NlLWl0ZW0nKS5maW5kKCcuanMtaXRlbV9fZGVzYycpLnNsaWRlVXAoKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcuYnRuLW9wZW4tY2xvc2VfX3RleHQnKS5odG1sKCQodGhpcykuYXR0cignZGF0YS1vcGVuLXRleHQnKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuanMtb3Blbi1jbG9zZS1pdGVtJykuYXR0cignZGF0YS1jbGljay1zdGF0ZScsIDEpXHJcbiAgICAgICAgICAgICQodGhpcykucGFyZW50cygnLmpzLW9wZW4tY2xvc2UtaXRlbScpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuanMtb3Blbi1jbG9zZS1pdGVtJykuZmluZCgnLmpzLWl0ZW1fX2Rlc2MnKS5zbGlkZURvd24oKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcuYnRuLW9wZW4tY2xvc2VfX3RleHQnKS5odG1sKCQodGhpcykuYXR0cignZGF0YS1jbG9zZS10ZXh0JykpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgXHJcbiAgICAvLyBzd2lwZXJcclxuICAgIGlmICgkKCcuY2Fyb3VzZWwtaW5pdC0taGVybycpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICB2YXIgc2xpZGVySGVybyA9IG5ldyBTd2lwZXIoJy5jYXJvdXNlbC1pbml0LS1oZXJvJywgeyBcclxuICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAwLFxyXG4gICAgICAgICAgICBncmFiQ3Vyc29yOiB0cnVlLFxyXG4gICAgICAgICAgICBjZW50ZXJlZFNsaWRlczogdHJ1ZSxcclxuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICBmYWRlOiB0cnVlLFxyXG4gICAgICAgICAgICBlZmZlY3Q6IFwiZmFkZVwiLFxyXG4gICAgICAgICAgICBmYWRlRWZmZWN0OiB7IGNyb3NzRmFkZTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICB2aXJ0dWFsVHJhbnNsYXRlOiB0cnVlLFxyXG4gICAgICAgICAgICBzbGlkZXNQZXJHcm91cDogMSxcclxuICAgICAgICAgICAgYXV0b0hlaWdodDogdHJ1ZSxcclxuICAgICAgICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgbmV4dEVsOiAnLnNsaWNrLW0tbmV4dC0taGVybycsXHJcbiAgICAgICAgICAgICAgICBwcmV2RWw6ICcuc2xpY2stbS1wcmV2LS1oZXJvJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICAgICAgICAgIGVsOiAnLnNsaWNrLWRvdHMtLWhlcm8nLFxyXG4gICAgICAgICAgICAgIHR5cGU6ICdidWxsZXRzJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmICgkKCcuY2Fyb3VzZWwtaW5pdC0tc2VydmljZXMnKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgdmFyIHNsaWRlclNlcnZpY2VzID0gbmV3IFN3aXBlcignLmNhcm91c2VsLWluaXQtLXNlcnZpY2VzJywge1xyXG4gICAgICAgIGF1dG9IZWlnaHQ6IHRydWUsXHJcbiAgICAgICAgbG9vcDogZmFsc2UsXHJcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAxMCxcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXHJcbiAgICAgICAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxyXG4gICAgICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgICAgICAgbmV4dEVsOiBcIi5zbGljay1tLW5leHQtLXNlcnZpY2VzXCIsXHJcbiAgICAgICAgICAgIHByZXZFbDogXCIuc2xpY2stbS1wcmV2LS1zZXJ2aWNlc1wiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gcGFnaW5hdGlvbjoge1xyXG4gICAgICAgIC8vICAgZWw6ICcuc2xpY2stZG90cy0tc2VydmljZXMnLFxyXG4gICAgICAgIC8vICAgdHlwZTogJ2J1bGxldHMnLFxyXG4gICAgICAgIC8vIH0sXHJcbiAgICAgICAgYnJlYWtwb2ludHM6IHtcclxuICAgICAgICAgICAgMDoge1xyXG4gICAgICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAxMCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgODAwOiB7XHJcbiAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDEwLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBpZiAoJCgnLmNhcm91c2VsLWluaXQtLXNlcnZpY2VzJykubGVuZ3RoID4gMCkge1xyXG4gICAgLy8gICAgIHZhciBzbGlkZXJTZXJ2aWNlcyA9IG5ldyBTd2lwZXIoJy5jYXJvdXNlbC1pbml0LS1zZXJ2aWNlcycsIHtcclxuICAgIC8vICAgICBhdXRvSGVpZ2h0OiBmYWxzZSxcclxuICAgIC8vICAgICBsb29wOiBmYWxzZSxcclxuICAgIC8vICAgICBzcGFjZUJldHdlZW46IDEwLFxyXG4gICAgLy8gICAgIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcclxuICAgIC8vICAgICBjZW50ZXJlZFNsaWRlczogZmFsc2UsXHJcbiAgICAvLyAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgLy8gICAgICAgICBuZXh0RWw6IFwiLnNsaWNrLW0tbmV4dC0tc2VydmljZXNcIixcclxuICAgIC8vICAgICAgICAgcHJldkVsOiBcIi5zbGljay1tLXByZXYtLXNlcnZpY2VzXCIsXHJcbiAgICAvLyAgICAgfSxcclxuICAgIC8vICAgICB9KTtcclxuICAgIC8vIH1cclxuICAgIGlmICgkKCcuY2Fyb3VzZWwtaW5pdC0tZGlzY291bnQnKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgdmFyIHNsaWRlcmRpc2NvdW50ID0gbmV3IFN3aXBlcignLmNhcm91c2VsLWluaXQtLWRpc2NvdW50Jywge1xyXG4gICAgICAgIGF1dG9IZWlnaHQ6IHRydWUsXHJcbiAgICAgICAgbG9vcDogZmFsc2UsXHJcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiA0MCxcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxyXG4gICAgICAgIGNlbnRlcmVkU2xpZGVzOiBmYWxzZSxcclxuICAgICAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgICAgICAgIG5leHRFbDogXCIuc2xpY2stbS1uZXh0LS1kaXNjb3VudFwiLFxyXG4gICAgICAgICAgICBwcmV2RWw6IFwiLnNsaWNrLW0tcHJldi0tZGlzY291bnRcIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJyZWFrcG9pbnRzOiB7XHJcbiAgICAgICAgICAgIDA6IHtcclxuICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIDgwMDoge1xyXG4gICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgICAgIGVsOiAnLnNsaWNrLWRvdHMtLWRpc2NvdW50JyxcclxuICAgICAgICAgIHR5cGU6ICdidWxsZXRzJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKCQoJy5jYXJvdXNlbC1pbml0LS1yZXZpZXdzJykubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHZhciBzbGlkZXJyZXZpZXdzID0gbmV3IFN3aXBlcignLmNhcm91c2VsLWluaXQtLXJldmlld3MnLCB7XHJcbiAgICAgICAgYXV0b0hlaWdodDogdHJ1ZSxcclxuICAgICAgICBsb29wOiBmYWxzZSxcclxuICAgICAgICBzcGFjZUJldHdlZW46IDQwLFxyXG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDIsXHJcbiAgICAgICAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxyXG4gICAgICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgICAgICAgbmV4dEVsOiBcIi5zbGljay1tLW5leHQtLXJldmlld3NcIixcclxuICAgICAgICAgICAgcHJldkVsOiBcIi5zbGljay1tLXByZXYtLXJldmlld3NcIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJyZWFrcG9pbnRzOiB7XHJcbiAgICAgICAgICAgIDA6IHtcclxuICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIDExNDA6IHtcclxuICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwYWdpbmF0aW9uOiB7XHJcbiAgICAgICAgICBlbDogJy5zbGljay1kb3RzLS1yZXZpZXdzJyxcclxuICAgICAgICAgIHR5cGU6ICdidWxsZXRzJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGlmICgkKCcuY2Fyb3VzZWwtaW5pdC0tcHJvZHVjdC1uYXYnKS5sZW5ndGggPiAwKSB7XHJcbiAgICAvLyAgICAgdmFyIHNsaWRlclRodW1icyA9IG5ldyBTd2lwZXIoJy5jYXJvdXNlbC1pbml0LS1wcm9kdWN0LW5hdicsIHsgXHJcbiAgICAvLyAgICAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJywgXHJcbiAgICAvLyAgICAgICAgIHNsaWRlc1BlclZpZXc6IDMsIFxyXG4gICAgLy8gICAgICAgICBzcGFjZUJldHdlZW46IDAsIFxyXG4gICAgLy8gICAgICAgICBmcmVlTW9kZTogdHJ1ZSwgXHJcbiAgICAvLyAgICAgICAgIGxvb3A6IGZhbHNlLFxyXG4gICAgLy8gICAgICAgICB3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy8gfVxyXG4gICAgLy8gaWYgKCQoJy5jYXJvdXNlbC1pbml0LS1wcm9kdWN0LW1haW4nKS5sZW5ndGggPiAwKSB7XHJcbiAgICAvLyAgICAgdmFyIHNsaWRlckltYWdlcyA9IG5ldyBTd2lwZXIoJy5jYXJvdXNlbC1pbml0LS1wcm9kdWN0LW1haW4nLCB7IFxyXG4gICAgLy8gICAgICAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCcsXHJcbiAgICAvLyAgICAgICAgIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgICAvLyAgICAgICAgIHNwYWNlQmV0d2VlbjogMzIsXHJcbiAgICAvLyAgICAgICAgIG1vdXNld2hlZWw6IHRydWUsXHJcbiAgICAvLyAgICAgICAgIGxvb3A6IGZhbHNlLFxyXG4gICAgLy8gICAgICAgICBncmFiQ3Vyc29yOiB0cnVlLCBcclxuICAgIC8vICAgICAgICAgdGh1bWJzOiB7IFxyXG4gICAgLy8gICAgICAgICAgICAgYXV0b1Njcm9sbE9mZnNldDogMSxcclxuICAgIC8vICAgICAgICAgICAgIHN3aXBlcjogc2xpZGVyVGh1bWJzIFxyXG4gICAgLy8gICAgICAgICB9LFxyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy8gfVxyXG4gICAgZnVuY3Rpb24gc3dpcGVyX2h0bWwoZWwsbmFtZSl7XHJcbiAgICAgICAgZWwuYWRkQ2xhc3MoJ2Nhcm91c2VsLWluaXQgY2Fyb3VzZWwtaW5pdC0tJytuYW1lKycgc3dpcGVyLWNvbnRhaW5lcicpXHJcbiAgICAgICAgZWwuZmluZCgnPionKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICQodGhpcykud3JhcCgnPGRpdiBjbGFzcz1cInN3aXBlci1zbGlkZSBjYXJvdXNlbC1pdGVtXCI+PC9kaXY+Jyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZWwud3JhcElubmVyKCc8ZGl2IGNsYXNzPVwic3dpcGVyLXdyYXBwZXJcIj48L2Rpdj4nKTtcclxuICAgIH1cclxuXHJcbiAgICBpZigkKGRvY3VtZW50KS53aWR0aCgpIDwgMTE0MCA/IHRydWUgOiBmYWxzZSl7XHJcbiAgICAgICAgLy8g0J/QtdGA0LXQvNC10YnQsNC10Lwg0Y3Qu9C10LzQtdC90YLRi1xyXG4gICAgICAgICQoJy5oZXJvX19pdGVtX19yaWdodCcpLmFwcGVuZFRvKCAkKCcuaGVybycpKVxyXG4gICAgICAgIFxyXG4gICAgICAgICQoJy5tZW51IGxpLm1lbnVfX2l0ZW0tLWJhY2snKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJ2EnKS5maXJzdCgpLmFkZENsYXNzKCdwYXJlbnRfX2Fycm93Jyk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJ2EnKS5maXJzdCgpLnJlbW92ZUF0dHIoJ2hyZWYnKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICQoJy5tZW51X19pdGVtJykub24oJ2NsaWNrJywnLnBhcmVudCcsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZV9fY2hpbGQnKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICQoJy5tZW51X19pdGVtLS1iYWNrJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoJ3VsJykucGFyZW50KCdsaScpLmZpbmQoJy5wYXJlbnQnKS5yZW1vdmVDbGFzcygnYWN0aXZlX19jaGlsZCcpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIGlmKCQoZG9jdW1lbnQpLndpZHRoKCkgPCA4MDAgPyB0cnVlIDogZmFsc2Upe1xyXG4gICAgICAgIC8vINC/0LXRgNC10LzQtdGJ0LDQtdC8INCx0LjQsyDQutCw0YLQtdCz0L7RgNC40LhcclxuICAgICAgICAkKCcuY2F0LWxpc3RfX2l0ZW0tLWJpZycpLndyYXBBbGwoJzxkaXYgY2xhc3M9XCJjYXQtbGlzdF9faXRlbV9fZ3JvdXBcIj4nKTtcclxuICAgICAgICAvLyDQn9C10YDQtdC80LXRidCw0LXQvCDRhNC40LvRjNGC0YBcclxuICAgICAgICAkKCcuanMtbW9iLWNhdC1hbGxfX2ZpbHRlci1pdGVtJykuYXBwZW5kVG8oICQoJy5jYXQtYWxsX19maWx0ZXItLW1vYicpKVxyXG4gICAgICAgIC8vINCf0LXRgNC10LzQtdGJ0LDQtdC8IGNhcnRcclxuICAgICAgICAvLyAkKCcuY2FydC1taW5pJykuaW5zZXJ0QmVmb3JlKCAkKCcuanMtbW9iLWNhcnQtbWluaScpKVxyXG4gICAgXHJcbiAgICAgICAgc3dpcGVyX2h0bWwoJCgnLmNhdC1saXN0X19pdGVtcycpLCdjYXJ0X2xpc3QnKVxyXG4gICAgICAgIGlmICgkKCcuY2Fyb3VzZWwtaW5pdC0tY2FydF9saXN0JykubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgc2xpZGVycmV2aWV3cyA9IG5ldyBTd2lwZXIoJy5jYXJvdXNlbC1pbml0LS1jYXJ0X2xpc3QnLCB7XHJcbiAgICAgICAgICAgIGF1dG9IZWlnaHQ6IHRydWUsXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMTAsXHJcbiAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6ICdhdXRvJyxcclxuICAgICAgICAgICAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3dpcGVyX2h0bWwoJCgnLm1hcF9fYnV0dG9uX19sZWZ0LS1tb2Itc2xpZGVyJyksJ21hcF9fYnV0dG9uX19sZWZ0JylcclxuICAgICAgICBpZiAoJCgnLmNhcm91c2VsLWluaXQtLW1hcF9fYnV0dG9uX19sZWZ0JykubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgc2xpZGVycmV2aWV3cyA9IG5ldyBTd2lwZXIoJy5jYXJvdXNlbC1pbml0LS1tYXBfX2J1dHRvbl9fbGVmdCcsIHtcclxuICAgICAgICAgICAgYXV0b0hlaWdodDogZmFsc2UsXHJcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxyXG4gICAgICAgICAgICBzcGFjZUJldHdlZW46IDEwLFxyXG4gICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXHJcbiAgICAgICAgICAgIGNlbnRlcmVkU2xpZGVzOiBmYWxzZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIG1vYiBtZW51XHJcbiAgICAgICAgJCgnLm1lbnUgbGknKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmZpbmQoJ3VsJykubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKCdhJykuZmlyc3QoKS5hZGRDbGFzcygncGFyZW50IHBhcmVudF9fYXJyb3cnKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnYScpLmZpcnN0KCkucmVtb3ZlQXR0cignaHJlZicpO1xyXG4gICAgICAgICAgICAgICAgLy8gJCh0aGlzKS5maW5kKCdhJykuZmlyc3QoKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJwYXJlbnRfX2Fycm93XCI+PC9kaXY+Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfTtcclxuICAgIGlmKCQoZG9jdW1lbnQpLndpZHRoKCkgPiA4MDEgPyB0cnVlIDogZmFsc2Upe1xyXG4gICAgICAgICQoJy5tZW51IGxpJykuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5maW5kKCd1bCcpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnYScpLmZpcnN0KCkuYWRkQ2xhc3MoJ3BhcmVudCBwYXJlbnRfX2Fycm93Jyk7XHJcbiAgICAgICAgICAgICAgICAvLyAkKHRoaXMpLmZpbmQoJ2EnKS5maXJzdCgpLmFwcGVuZCgnPGRpdiBjbGFzcz1cInBhcmVudF9fYXJyb3dcIj48L2Rpdj4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBpZigkKGRvY3VtZW50KS53aWR0aCgpIDwgMTE0MCA/IHRydWUgOiBmYWxzZSl7XHJcbiAgICAgICAgc3dpcGVyX2h0bWwoJCgnLmNhdC1hbGxfX3RhYnMnKSwnY2F0LWFsbF9fdGFicycpXHJcbiAgICAgICAgaWYgKCQoJy5jYXJvdXNlbC1pbml0LS1jYXQtYWxsX190YWJzJykubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgc2xpZGVycmV2aWV3cyA9IG5ldyBTd2lwZXIoJy5jYXJvdXNlbC1pbml0LS1jYXQtYWxsX190YWJzJywge1xyXG4gICAgICAgICAgICBhdXRvSGVpZ2h0OiB0cnVlLFxyXG4gICAgICAgICAgICBsb29wOiBmYWxzZSxcclxuICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAxMCxcclxuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxyXG4gICAgICAgICAgICBjZW50ZXJlZFNsaWRlczogZmFsc2UsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuXHJcbiAgICAvLyBhKHJlbD1cImdyb3VwXCIsIGhyZWY9XCJodHRwczovL3MzLXVzLXdlc3QtMi5hbWF6b25hd3MuY29tL3MuY2Rwbi5pby80MjczLzEuanBnXCIsIGRhdGEtZmFuY3lib3g9XCJnYWxsZXJ5XCIpLml0ZW0uZmFuY3lib3gtbWVkaWFcclxuICAgIC8vICAgICBpbWcoc3JjPSdodHRwczovL3MzLXVzLXdlc3QtMi5hbWF6b25hd3MuY29tL3MuY2Rwbi5pby80MjczLzEuanBnJylcclxuICAgIFxyXG4gICAgLy8g0KPQutCw0LfRi9Cy0LDQtdC8INGC0LXQutGD0YnRg9GOINGB0YHRi9C70LrRg1xyXG4gICAgdmFyIGxvY2F0aW9uX20gPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcclxuICAgIHZhciBjdXJfdXJsX20gPSBsb2NhdGlvbl9tO1xyXG5cclxuICAgICQoJ3VsIGxpJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGxpbmtfbSA9ICQodGhpcykuZmluZCgnYScpLmZpcnN0KCkuYXR0cignaHJlZicpO1xyXG4gICAgICAgIGlmIChjdXJfdXJsX20gPT0gbGlua19tKSB7XHJcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLmZpbmQoJ2EnKS5maXJzdCgpLnJlbW92ZUF0dHIoJ2hyZWYnKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCdsaScpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDQn9C+0LjRgdC6XHJcbiAgICAvLyAkKCcuc2VhcmNoX19idG5fX2luJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgIC8vICAgICAkKCcuc2VhcmNoX19mb3JtLC5zZWFyY2hfX2J0bl9fb3V0JykuZmFkZUluKDApO1xyXG4gICAgLy8gICAgICQoJy5zZWFyY2gnKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAvLyAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWNsaWNrLXN0YXRlJywgMClcclxuICAgIC8vICAgICAkKHRoaXMpLnBhcmVudHMoJy5oZWFkZXInKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAvLyB9KVxyXG4gICAgLy8gJCgnLnNlYXJjaF9fYnRuX19vdXQnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgLy8gICAgICQoJy5zZWFyY2hfX2J0bl9fb3V0JykuZmFkZU91dCgwKTtcclxuICAgIC8vICAgICAkKCcuc2VhcmNoX19mb3JtJykuZmFkZU91dCgwKTtcclxuICAgIC8vICAgICAkKCcuc2VhcmNoJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgLy8gfSlcclxuXHJcbiAgICAvLyDQnNC10L3RjiDQsdGD0YDQs9C10YBcclxuICAgICQoJy5idXJnZXInKS5vbignY2xpY2snLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgaWYoJCh0aGlzKS5hdHRyKCdkYXRhLWNsaWNrLXN0YXRlJykgPT0gMSkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtY2xpY2stc3RhdGUnLCAwKVxyXG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy5oZWFkZXInKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIC8vICQoJy5zZWFyY2hfX2J0bl9fb3V0JykuZmFkZU91dCgwKTtcclxuICAgICAgICAgICAgLy8gJCgnLnNlYXJjaF9fZm9ybScpLmZhZGVPdXQoMCk7XHJcbiAgICAgICAgICAgIC8vICQoJy5zZWFyY2gnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWNsaWNrLXN0YXRlJywgMSlcclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuaGVhZGVyJykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAvLyAkKCcuc2VhcmNoX19idG5fX291dCcpLmZhZGVPdXQoMCk7XHJcbiAgICAgICAgICAgIC8vICQoJy5zZWFyY2hfX2Zvcm0nKS5mYWRlT3V0KDApO1xyXG4gICAgICAgICAgICAvLyAkKCcuc2VhcmNoJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vINCe0YLQutGA0YvRgtC40LUg0LTQvtGH0LXRgNC90LXQs9C+INC80LXQvdGOXHJcbiAgICAvLyAkKCdhLnBhcmVudCcpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAvLyAgICAgJCh0aGlzKS5wYXJlbnQoJ2xpJykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgLy8gICAgICQodGhpcykuc2libGluZ3MoJ3VsJykuc2xpZGVUb2dnbGUoKTtcclxuICAgIC8vIH0pXHJcblxyXG4gICAgLy8g0LDQtNCw0L/RgtC40LIg0LIganNcclxuICAgIGlmKCQoZG9jdW1lbnQpLndpZHRoKCkgPiA4MDAgPyB0cnVlIDogZmFsc2Upe1xyXG4gICAgICAgIC8vINGB0LDQudC0INCx0LDRgNGLXHJcbiAgICAgICAgJCgnLnBhZ2VfX2NvbnRlbnQtd3JhcHBlcicpLnRoZWlhU3RpY2t5U2lkZWJhcih7XHJcbiAgICAgICAgICAgIGFkZGl0aW9uYWxNYXJnaW5Ub3A6IDEyMCxcclxuICAgICAgICAgICAgYWRkaXRpb25hbE1hcmdpbkJvdHRvbTogMCxcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcucGFnZV9fc2lkZWJhci13cmFwcGVyJykudGhlaWFTdGlja3lTaWRlYmFyKHtcclxuICAgICAgICAgICAgYWRkaXRpb25hbE1hcmdpblRvcDogMTIwLFxyXG4gICAgICAgICAgICBhZGRpdGlvbmFsTWFyZ2luQm90dG9tOiAwLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFxyXG5cclxuICAgIC8vINCh0LrRgNC+0Lsg0LTQviDQv9GD0L3QutGC0LBcclxuICAgICQoJy5zY3JvbGxbaHJlZl49XCIjXCJdJykuY2xpY2soZnVuY3Rpb24oKSB7IFxyXG4gICAgICAgICQoXCJodG1sLCBib2R5XCIpLmFuaW1hdGUoe1xyXG4gICAgICAgICAgIHNjcm9sbFRvcDogJCgkKHRoaXMpLmF0dHIoXCJocmVmXCIpKS5vZmZzZXQoKS50b3BcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgZHVyYXRpb246IDYwMCxcclxuICAgICAgICAgICBlYXNpbmc6IFwic3dpbmdcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vICQoJ2lucHV0LHRleHRhcmVhJykub24oJ2lucHV0IGtleXVwJywgZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICAgIHZhciBWYWx1ZSA9ICQodGhpcykudmFsKCk7XHJcbiAgICAvLyAgICAgaWYoVmFsdWUgPT0gJycpe1xyXG4gICAgLy8gICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCd0cnVlJyk7XHJcbiAgICAvLyAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2ZhbHNlJyk7IFxyXG4gICAgLy8gICAgIH1lbHNleyBcclxuICAgIC8vICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnZmFsc2UnKTsgXHJcbiAgICAvLyAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3RydWUnKTsgXHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfSk7XHJcblxyXG4gICAgLy8g0JrQvtC70LjRh9C10YHRgtCy0L4g0LIg0LrQvtGA0LfQuNC90LVcclxuICAgIC8vINCj0LHQsNCy0LvRj9C10Lwg0LrQvtC7LdCy0L4g0L/QviDQutC70LjQutGDXHJcbiAgICAkKCcucXVhbnRpdHlfaW5uZXIgLmJ0X21pbnVzJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGVsX2lucHV0ID0gJCh0aGlzKS5wYXJlbnQoKS5maW5kKCcucXVhbnRpdHknKTtcclxuICAgICAgICB2YXIgc2VwID0gZWxfaW5wdXQuYXR0cignZGF0YS1zZXAnKTtcclxuICAgICAgICB2YXIgY291bnQgPSBwYXJzZUludChlbF9pbnB1dC52YWwoKSkgLSAxO1xyXG4gICAgICAgIGNvdW50ID0gY291bnQgPCAxID8gMSA6IGNvdW50O1xyXG4gICAgICAgIGVsX2lucHV0LnZhbChjb3VudCk7XHJcbiAgICAgICAgZWxfaW5wdXQuYXR0cignZGF0YS1jb3VudCcscGFyc2VJbnQoY291bnQpKVxyXG4gICAgfSk7XHJcbiAgICAvLyDQn9GA0LjQsdCw0LLQu9GP0LXQvCDQutC+0Lst0LLQviDQv9C+INC60LvQuNC60YNcclxuICAgICQoJy5xdWFudGl0eV9pbm5lciAuYnRfcGx1cycpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBlbF9pbnB1dCA9ICQodGhpcykucGFyZW50KCkuZmluZCgnLnF1YW50aXR5Jyk7XHJcbiAgICAgICAgdmFyIHNlcCA9IGVsX2lucHV0LmF0dHIoJ2RhdGEtc2VwJyk7XHJcbiAgICAgICAgdmFyIGNvdW50ID0gcGFyc2VJbnQoZWxfaW5wdXQudmFsKCkpICsgMTtcclxuICAgICAgICBjb3VudCA9IGNvdW50ID4gcGFyc2VJbnQoZWxfaW5wdXQuZGF0YSgnbWF4LWNvdW50JykpID8gcGFyc2VJbnQoZWxfaW5wdXQuZGF0YSgnbWF4LWNvdW50JykpIDogY291bnQ7XHJcbiAgICAgICAgZWxfaW5wdXQudmFsKHBhcnNlSW50KGNvdW50KSk7XHJcbiAgICAgICAgZWxfaW5wdXQuYXR0cignZGF0YS1jb3VudCcscGFyc2VJbnQoY291bnQpKVxyXG4gICAgfSk7IFxyXG4gICAgLy8g0KPQsdC40YDQsNC10Lwg0LLRgdC1INC70LjRiNC90LXQtSDQuCDQvdC10LLQvtC30LzQvtC20L3QvtC1INC/0YDQuCDQuNC30LzQtdC90LXQvdC40Lgg0L/QvtC70Y9cclxuICAgICQoJy5xdWFudGl0eV9pbm5lciAucXVhbnRpdHknKS5iaW5kKFwiY2hhbmdlIGtleXVwZWxfaW5wdXQgY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudmFsdWUubWF0Y2goL1teMC05XS9nKSkge1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZS5yZXBsYWNlKC9bXjAtOV0vZywgJycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy52YWx1ZSA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy52YWx1ZSA+IHBhcnNlSW50KCQodGhpcykuZGF0YSgnbWF4LWNvdW50JykpKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBwYXJzZUludCgkKHRoaXMpLmRhdGEoJ21heC1jb3VudCcpKTtcclxuICAgICAgICB9ICAgIFxyXG4gICAgfSk7ICAgXHJcblxyXG4gICAgLy8gdGlwcHlcclxuICAgIHRpcHB5KCcudGlwcHktbWVzc2FnZScsIHtcclxuICAgICAgICBhbmltYXRpb246ICdmYWRlJyxcclxuICAgICAgICB0aGVtZTogJ2xpZ2h0JyxcclxuICAgICAgICBhbGxvd0hUTUw6IHRydWUsXHJcbiAgICAgICAgaW50ZXJhY3RpdmU6IHRydWUsXHJcbiAgICAgICAgY29udGVudDogZnVuY3Rpb24oZil7XHJcbiAgICAgICAgICAgIHJldHVybiAkKGYpLmZpbmQoJy5qcy10aXBweWNvbnQnKS5odG1sKClcclxuICAgICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8g0LzQvtC60YHQutC4XHJcbiAgICAkKFwiLmpzLXRlbFwiKS5pbnB1dG1hc2soe1xyXG4gICAgICAgIG1hc2s6IFwiKzcgKDk5OSkgOTk5LTk5LTk5XCIsXHJcbiAgICAgICAgZ3JlZWR5OiB0cnVlLFxyXG4gICAgICAgIGNsZWFyTWFza09uTG9zdEZvY3VzOiB0cnVlLFxyXG4gICAgICAgIGNsZWFySW5jb21wbGV0ZTogdHJ1ZVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8g0JrQsNGB0YLQvtC80L3Ri9C5IHNlbGVjdFxyXG4gICAgJCgnLmpzLXNlbGVjdCcpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgc2VsZWN0T3B0aW9uID0gX3RoaXMuZmluZCgnb3B0aW9uJyksXHJcbiAgICAgICAgICAgIHNlbGVjdE9wdGlvbkxlbmd0aCA9IHNlbGVjdE9wdGlvbi5sZW5ndGgsXHJcbiAgICAgICAgICAgIHNlbGVjdGVkT3B0aW9uID0gc2VsZWN0T3B0aW9uLmZpbHRlcignOnNlbGVjdGVkJyksXHJcbiAgICAgICAgICAgIHByZXZUZXh0ID0gX3RoaXMuYXR0cignZGF0YS1wcmV2JyksXHJcbiAgICAgICAgICAgIHByZXZUZXh0SHRtbCA9ICc8c3BhbiBjbGFzcz1cInNlbGVjdC1wcmV2XCI+JytwcmV2VGV4dCsnIDwvc3Bhbj4nLFxyXG4gICAgICAgICAgICBkdXJhdGlvbiA9IDUwOyAvLyDQtNC70LjRgtC10LvRjNC90L7RgdGC0Ywg0LDQvdC40LzQsNGG0LjQuCBcclxuICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgX3RoaXMud3JhcCgnPGRpdiBjbGFzcz1cInNlbGVjdFwiPjwvZGl2PicpO1xyXG4gICAgICAgICQoJzxkaXY+Jywge1xyXG4gICAgICAgICAgICBjbGFzczogJ25ldy1zZWxlY3QnLFxyXG4gICAgICAgICAgICB0ZXh0OiBfdGhpcy5jaGlsZHJlbignb3B0aW9uOmRpc2FibGVkJykudGV4dCgpXHJcbiAgICAgICAgfSkuaW5zZXJ0QWZ0ZXIoX3RoaXMpO1xyXG4gICAgICAgIC8vICQocHJldlRleHRIdG1sKS5wcmVwZW5kVG8oX3RoaXMubmV4dCgpKTtcclxuXHJcblxyXG4gICAgICAgIHZhciBzZWxlY3RIZWFkID0gX3RoaXMubmV4dCgnLm5ldy1zZWxlY3QnKTtcclxuICAgICAgICAkKCc8ZGl2PicsIHtcclxuICAgICAgICAgICAgY2xhc3M6ICduZXctc2VsZWN0X19saXN0J1xyXG4gICAgICAgIH0pLmluc2VydEFmdGVyKHNlbGVjdEhlYWQpO1xyXG4gICAgXHJcbiAgICAgICAgdmFyIHNlbGVjdExpc3QgPSBzZWxlY3RIZWFkLm5leHQoJy5uZXctc2VsZWN0X19saXN0Jyk7XHJcbiAgICAgICAgJCgnPGRpdj4nLCB7XHJcbiAgICAgICAgICAgIGNsYXNzOiAnbmV3LXNlbGVjdF9faXRlbSBuZXctc2VsZWN0X19pdGVtLS1iYWNrIGpzLWNsb3NlZC1zZWxlY3QgcGFyZW50X19hcnJvdycsXHJcbiAgICAgICAgICAgIGh0bWw6ICQoJzxzcGFuPicsIHtcclxuICAgICAgICAgICAgICAgIHRleHQ6IHNlbGVjdE9wdGlvbi5lcSgwKS5odG1sKClcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdkYXRhLXZhbHVlJywgc2VsZWN0T3B0aW9uLmVxKDApLnZhbCgpKVxyXG4gICAgICAgIC5hcHBlbmRUbyhzZWxlY3RMaXN0KTtcclxuICAgICAgICAkKHNlbGVjdExpc3QpLmZpbmQoJy5uZXctc2VsZWN0X19pdGVtLS1iYWNrJykucHJlcGVuZChwcmV2VGV4dEh0bWwpXHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgc2VsZWN0T3B0aW9uTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgJCgnPGRpdj4nLCB7XHJcbiAgICAgICAgICAgICAgICBjbGFzczogJ25ldy1zZWxlY3RfX2l0ZW0nLFxyXG4gICAgICAgICAgICAgICAgaHRtbDogJCgnPHNwYW4+Jywge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHNlbGVjdE9wdGlvbi5lcShpKS50ZXh0KClcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKCdkYXRhLXZhbHVlJywgc2VsZWN0T3B0aW9uLmVxKGkpLnZhbCgpKVxyXG4gICAgICAgICAgICAuYXBwZW5kVG8oc2VsZWN0TGlzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgdmFyIHNlbGVjdEl0ZW0gPSBzZWxlY3RMaXN0LmZpbmQoJy5uZXctc2VsZWN0X19pdGVtJyk7XHJcbiAgICAgICAgc2VsZWN0SGVhZC5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKCAhJCh0aGlzKS5oYXNDbGFzcygnb24nKSApIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3Rfb24gPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0X29uLmFkZENsYXNzKCdvbicpO1xyXG4gICAgICAgICAgICAgICAgaWYoJChkb2N1bWVudCkud2lkdGgoKSA8IDgwMCA/IHRydWUgOiBmYWxzZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnYm9keSxoZWFkLGh0bWwnKS5jc3MoJ292ZXJmbG93LXknLCdoaWRkZW4nKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RJdGVtLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCQoZG9jdW1lbnQpLndpZHRoKCkgPCA4MDAgPyB0cnVlIDogZmFsc2Upe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCdib2R5LGhlYWQsaHRtbCcpLmNzcygnb3ZlcmZsb3cteScsJ2F1dG8nKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoICEkKHRoaXMpLmhhc0NsYXNzKCduZXctc2VsZWN0X19pdGVtLS1iYWNrJykgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaG9vc2VJdGVtID0gJCh0aGlzKS5kYXRhKCd2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy5uZXctc2VsZWN0X19saXN0JykuZmluZCgnLm5ldy1zZWxlY3RfX2l0ZW0nKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucGFyZW50cygnLnNlbGVjdCcpLmZpbmQoJy5uZXctc2VsZWN0JykuYWRkQ2xhc3MoJ3NlbGVjdGVkJylcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnc2VsZWN0JykudmFsKGNob29zZUl0ZW0pLmF0dHIoJ3NlbGVjdGVkJywgJ3NlbGVjdGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEhlYWQuaHRtbChwcmV2VGV4dEh0bWwrICQodGhpcykuZmluZCgnc3BhbicpLnRleHQoKSApO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RIZWFkLnJlbW92ZUNsYXNzKCdvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0X29uLnJlbW92ZUNsYXNzKCdvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdvbicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHQkKGRvY3VtZW50KS5tb3VzZXVwKCBmdW5jdGlvbihlKXsgLy8g0YHQvtCx0YvRgtC40LUg0LrQu9C40LrQsCDQv9C+INCy0LXQsS3QtNC+0LrRg9C80LXQvdGC0YNcclxuXHRcdHZhciBkaXYgPSAkKCBcIi5zZWxlY3RcIiApO1xyXG5cdFx0aWYgKCAhZGl2LmlzKGUudGFyZ2V0KSAvLyDQtdGB0LvQuCDQutC70LjQuiDQsdGL0Lsg0L3QtSDQv9C+INC90LDRiNC10LzRgyDQsdC70L7QutGDXHJcblx0XHQgICAgJiYgZGl2LmhhcyhlLnRhcmdldCkubGVuZ3RoID09PSAwICkgeyAvLyDQuCDQvdC1INC/0L4g0LXQs9C+INC00L7Rh9C10YDQvdC40Lwg0Y3Qu9C10LzQtdC90YLQsNC8XHJcbiAgICAgICAgICAgICQoJy5uZXctc2VsZWN0JykucmVtb3ZlQ2xhc3MoJ29uJyk7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG4gICAgJCgnLmpzLW1hcGRhdGEnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICQoJy5qcy1tYXBkYXRhJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICB9KVxyXG4gICAgJCgnYm9keScpLm9uKCdjbGljaycsJy5yZW1vdmUnLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgLy8gYm94VmlzaWJsZS5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgICQoJy5qcy1tYXAtb2JqZWN0IC5tYXBsb2MnKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XHJcbiAgICB9KVxyXG4gIFxyXG59KTtcclxuXHJcbi8vINCi0LDQsdGLXHJcbmZ1bmN0aW9uIHRhYjJzKCl7XHJcbiAgICAkKCcuanMtdGFiX19vcGVuJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgcyA9IDMwMDtcclxuICAgICAgICBpZigkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSl7XHJcbiAgICAgICAgICAgIC8vICQoJy5qcy10YWJfX29wZW4nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIC8vICQoJy5qcy10YWJfX2NvbnRlbnQnKS5zbGlkZVVwKHMpXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICQoJy5qcy10YWJfX29wZW4nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAkKCcuanMtdGFiX19jb250ZW50Jykuc2xpZGVVcChzKVxyXG4gICAgICAgICAgICB2YXIgaWRfYnRuID0gJCh0aGlzKS5hdHRyKCdkYXRhLW1vbm9saXQtdGFicycpO1xyXG4gICAgICAgICAgICAkKCcuanMtdGFiX19jb250ZW50JykuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgaWYoJCh0aGlzKS5hdHRyKCdkYXRhLW1vbm9saXQtdGFicycpID09IGlkX2J0bil7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5zbGlkZURvd24ocyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufVxyXG50YWIycygpXHJcbiAgICBcclxudmFyIG15TWFwIFxyXG52YXIgYm94VmlzaWJsZVxyXG5mdW5jdGlvbiBtYXBzSW5pdCgpIHtcclxuICAgIC8vIGNvbnNvbGUubG9nKCfQl9Cw0L/Rg9GB0Log0LrQsNGA0YLRiycpO1xyXG4gICAgdmFyIHNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLW1hcC1mcmFtZScpO1xyXG4gICAgdmFyIGNvb3Jkc0pTID0gWzU1Ljc1Mzk5Mzk5OTk5Mzc0LDM3LjYyMjA5MzAwMDAwMDAxXTtcclxuICAgIG15TWFwID0gbmV3IHltYXBzLk1hcChzZWxlY3Rvciwge1xyXG4gICAgICAgIGNlbnRlcjogY29vcmRzSlMsXHJcbiAgICAgICAgY29udHJvbHM6IFsnem9vbUNvbnRyb2wnXSxcclxuICAgICAgICB6b29tOiAxMCxcclxuICAgICAgICAvLyBiZWhhdmlvcnM6IFsnZHJhZyddLFxyXG4gICAgfSwge1xyXG4gICAgICAgIHlhbmRleE1hcERpc2FibGVQb2lJbnRlcmFjdGl2aXR5OiB0cnVlLFxyXG4gICAgICAgIHN1cHByZXNzTWFwT3BlbkJsb2NrOiB0cnVlLFxyXG4gICAgfSk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhtYXBkYXRhKTtcclxuICBcclxuICAgIHZhciBib3hUZW1wbGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqcy1tYXAtdGVtcGxhdGVzJyk7XHJcbiAgICBib3hWaXNpYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLW1hcC1vYmplY3QnKTtcclxuICBcclxuICAgIHZhciBpY29uV2lkdGggPSAyMDtcclxuICAgIHZhciBpY29uSGVpZ2h0ID0gMjA7XHJcbiAgXHJcbiAgICAvLyBpZih3aW5kb3cuaW5uZXJXaWR0aCA8IDk5Mil7XHJcbiAgICAvLyAgIGljb25XaWR0aCA9IDIwO1xyXG4gICAgLy8gICBpY29uSGVpZ2h0ID0gMjA7XHJcbiAgICAvLyB9XHJcbiAgXHJcbiAgICB2YXIgZ2VvUG9seUdvbiA9IEpTT04ucGFyc2Uod2luZG93LmRlbGl2ZXJ5Wm9uZSk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhnZW9Qb2x5R29uKTtcclxuICBcclxuICAgIHZhciBteVBvbHlnb24gPSBuZXcgeW1hcHMuUG9seWdvbihbZ2VvUG9seUdvbl0sIHt9LCB7XHJcbiAgICAgIGZpbGxDb2xvcjogJ3JnYmEoNDIsIDQ1LCA1MCwgMC4xKScsXHJcbiAgICAgIHN0cm9rZVdpZHRoOiAzLFxyXG4gICAgICBzdHJva2VDb2xvcjogJyMwMDdCRkInLFxyXG4gICAgfSk7XHJcbiAgXHJcbiAgICBteU1hcC5nZW9PYmplY3RzLmFkZChteVBvbHlnb24pO1xyXG4gIFxyXG4gICAgbWFwZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGNvb3Jkcyl7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKGNvb3Jkcyk7XHJcbiAgICAgIGlmICggZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy1tYXBkYXRhXCIpICkge1xyXG4gICAgICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1tYXBkYXRhLWdyZWVuJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSl7XHJcbiAgICAgICAgICAgIGlmKGNvb3Jkcy5pc1Zpb2xldCA9PSB0cnVlKSByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1tYXBkYXRhLXB1cnB1cicpLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpe1xyXG4gICAgICAgICAgICBpZihjb29yZHMuaXNWaW9sZXQgPT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLW1hcGRhdGEtYWxsJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSl7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDQndCw0L/QvtC70L3Rj9C10Lwg0LHQsNGD0L3RgtCw0LzQuFxyXG4gICAgICB2YXIgbWFyayA9IG5ldyB5bWFwcy5QbGFjZW1hcmsoW2Nvb3Jkcy5sYXQsIGNvb3Jkcy5sbmddLCB7XHJcbiAgICAgICAgYmFsbG9vbkNvbnRlbnQ6IG51bGwsXHJcbiAgICAgICAgaWNvbkNhcHRpb246IG51bGwsXHJcbiAgICAgICAgYmxvY2tJZDogY29vcmRzLmlkLFxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgaWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLFxyXG4gICAgICAgIGljb25JbWFnZUhyZWY6IGNvb3Jkcy5pc1Zpb2xldCA/IG1hcG1hcmtlckFjdGl2ZSA6IG1hcG1hcmtlcixcclxuICAgICAgICBpY29uSW1hZ2VTaXplOiBbaWNvbldpZHRoLCBpY29uSGVpZ2h0XSxcclxuICAgICAgICBpY29uSW1hZ2VPZmZzZXQ6IFstKGljb25XaWR0aCAvIDIpLCAtaWNvbkhlaWdodF0sXHJcbiAgICAgICAgaGlkZUljb25PbkJhbGxvb25PcGVuOmZhbHNlLFxyXG4gICAgICB9KTtcclxuICBcclxuICAgICAgLy/QntCx0YDQsNCx0L7RgtC60LAg0LrQu9C40LrQsCDQvdCwINC80LDRgNC60LXRgFxyXG4gICAgICBtYXJrLmV2ZW50cy5hZGQoJ2NsaWNrJywgZnVuY3Rpb24oZSl7XHJcbiAgXHJcbiAgICAgICAgLy/QtNC10LvQsNC10Lwg0LjQutC+0L3QutC4INCy0YHQtdGFINC80LDQutGA0LrQtdGA0L7QsiDQv9C+INGD0LzQvtC70YfQsNC90LjRji5cclxuICAgICAgICBteU1hcC5nZW9PYmplY3RzLmVhY2goZnVuY3Rpb24oZWwpe1xyXG4gICAgICAgICAgZWwub3B0aW9ucy5zZXQoe1xyXG4gICAgICAgICAgICBpY29uSW1hZ2VTaXplOiBbaWNvbldpZHRoLCBpY29uSGVpZ2h0XSxcclxuICAgICAgICAgICAgaWNvbkltYWdlT2Zmc2V0OiBbLShpY29uV2lkdGggLyAyKSwgLWljb25IZWlnaHRdXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBib3hWaXNpYmxlLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgdmFyIG5lZWRJZCA9IGUuZ2V0KCd0YXJnZXQnKS5wcm9wZXJ0aWVzLmdldCgnYmxvY2tJZCcpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGUuZ2V0KCd0YXJnZXQnKS5vcHRpb25zLnNldCgndmlzaWJsZScsIGZhbHNlKTtcclxuICBcclxuICAgICAgICAvL9CU0LXQu9Cw0LXQvCDQuNC60L7QvdC60YMg0LDQutGC0LjQstC90L7Qs9C+INC80LDRgNC60LXRgNCwINC60YDQsNGB0L3QvtC5XHJcbiAgICAgICAgZS5nZXQoJ3RhcmdldCcpLm9wdGlvbnMuc2V0KHtcclxuICAgICAgICAgIGljb25JbWFnZVNpemU6IFtpY29uV2lkdGggKyA1LCBpY29uSGVpZ2h0ICsgNV0sXHJcbiAgICAgICAgICBpY29uSW1hZ2VPZmZzZXQ6IFstKChpY29uV2lkdGggKyA1KSAvIDIpLCAtKGljb25IZWlnaHQgKyA1KV0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIG5ld0JveCA9IGJveFRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLmpzLW1hcGxvYy0nK25lZWRJZCkuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgIGJveFZpc2libGUuYXBwZW5kKG5ld0JveCk7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgbmV3Qm94LmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xyXG4gICAgICAgICAgLy8gd2luZG93LmxpZ2h0Ym94LnJlbG9hZCgpO1xyXG4gICAgICAgIH0sIDApO1xyXG4gICAgICB9KTtcclxuICAgICAgLy8gLS0t0J3QsNC/0L7Qu9C90Y/QtdC8INCx0LDRg9C90YLQsNC80LhcclxuXHJcblxyXG4gICAgICBteU1hcC5nZW9PYmplY3RzLmFkZChtYXJrKTtcclxuICAgIH0pO1xyXG4gIFxyXG4gICAgLy8gbXlNYXAuc2V0Qm91bmRzKG15TWFwLmdlb09iamVjdHMuZ2V0Qm91bmRzKCkse2NoZWNrWm9vbVJhbmdlOnRydWUsIHpvb21NYXJnaW46WzEyMCwwLDAsMF19KTtcclxuICBcclxuICBcclxuICBcclxuICAgIGlmKHdpbmRvdy5pbm5lcldpZHRoID4gMTEwMCl7XHJcbiAgICAgIG15TWFwLmJlaGF2aW9ycy5kaXNhYmxlKFsncmlnaHRNb3VzZUJ1dHRvbk1hZ25pZmllcicsICdzY3JvbGxab29tJ10pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbXlNYXAuYmVoYXZpb3JzLmRpc2FibGUoWydyaWdodE1vdXNlQnV0dG9uTWFnbmlmaWVyJywgJ3Njcm9sbFpvb20nXSk7XHJcbiAgICAgICAgLy8gbGV0IG5ld2Nvb3JkID0gbXlNYXAuZ2V0R2xvYmFsUGl4ZWxDZW50ZXIoKTtcclxuICAgICAgICAvLyBuZXdjb29yZFsxXSAtPSAyMDtcclxuICAgICAgICAvLyBteU1hcC5zZXRHbG9iYWxQaXhlbENlbnRlcihuZXdjb29yZCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBsb2FkWWFtYXBzKCkge1xyXG4gIHZhciBzZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1tYXAtZnJhbWUnKTtcclxuICBpZiAoIXNlbGVjdG9yKSByZXR1cm47XHJcbiAgdmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcclxuICB3aW5kb3cubWFwc0luaXQgPSBtYXBzSW5pdDtcclxuICBlbGVtLmNsYXNzTmFtZSA9IFwianMtcmVsb2FkLXJlbW92ZVwiO1xyXG4gIGVsZW0uc3JjID0gJ2h0dHBzOi8vYXBpLW1hcHMueWFuZGV4LnJ1LzIuMS8/bG9hZD1wYWNrYWdlLm1hcCZsYW5nPXJ1LVJVJm9ubG9hZD1tYXBzSW5pdCc7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXS5hcHBlbmRDaGlsZChlbGVtKTtcclxufVxyXG5sb2FkWWFtYXBzKClcclxuXHJcbmZ1bmN0aW9uIHJlbG9hZFlhbWFwcygpe1xyXG4gICAgY29uc29sZS5sb2coMSk7XHJcbiAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtYWN0aXZlLW1hcF9pdGVtcycpLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKDIpO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgbXlNYXAuZGVzdHJveSgpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1yZWxvYWQtcmVtb3ZlJykucmVtb3ZlKCk7XHJcbiAgICAgICAgbG9hZFlhbWFwcygpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKDMpO1xyXG4gICAgfVxyXG59XHJcblxyXG4kKCcuanMtYWN0aXZlLW1hcCcpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICByZWxvYWRZYW1hcHMoKVxyXG59KSJdfQ==
